使用超级终端打开虚拟串口
================ Wed Dec 17 22:46:10 2003
Entering IRP_MJ_CREAT
Serial.sys: Enter IoControl routine
InputBufferLength:  8     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_QUEUE_SIZE   --
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   4
Serial.sys: --  IOCTL_SERIAL_CONFIG_SIZE   --



--------- Win32 GetCommState

Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   4
Serial.sys: --  IOCTL_SERIAL_GET_BAUD_RATE  ---
Serial.sys: Br->BaudRate :  0
Serial.sys: CurrentBaud:  1200    Br->BaudRate   1200
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   3
Serial.sys: --  IOCTL_SERIAL_GET_LINE_CONTROL   --
Serial.sys: IOCTL_SERIAL_GET_LINE_CONTROL:  WordLength:  8  Parity:  0  StopBits  1
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   6
Serial.sys: --  IOCTL_SERIAL_GET_CHARS   --
Serial.sys: GetChars:   0  0  0  0 11 13
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   16
Serial.sys: --  IOCTL_SERIAL_GET_HANDFLOW   --
Serial.sys: ControlHandShake:  1  FlowReplace:  64  XonLimit:  4096  XoffLimit:  1024



------------SetCommState  Win 32


Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   4
Serial.sys: --  IOCTL_SERIAL_GET_BAUD_RATE  ---
Serial.sys: Br->BaudRate :  0
Serial.sys: CurrentBaud:  1200    Br->BaudRate   1200
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   3
Serial.sys: --  IOCTL_SERIAL_GET_LINE_CONTROL   --
Serial.sys: IOCTL_SERIAL_GET_LINE_CONTROL:  WordLength:  8  Parity:  0  StopBits  1
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   6
Serial.sys: --  IOCTL_SERIAL_GET_CHARS   --
Serial.sys: GetChars:   0  0  0  0 11 13
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   16
Serial.sys: --  IOCTL_SERIAL_GET_HANDFLOW   --
Serial.sys: ControlHandShake:  1  FlowReplace:  64  XonLimit:  4096  XoffLimit:  1024
Serial.sys: Enter IoControl routine
InputBufferLength:  4     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_BAUD_RATE  ---
Serial.sys: CurrentBaud :  2400     SetBaudRate:   2400
Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_DTR   --
Serial.sys: Enter IoControl routine
InputBufferLength:  3     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_LINE_CONTROL   --
Serial.sys: IOCTL_SERIAL_SET_LINE_CONTROL:  WordLength:  8  Parity:  0  StopBits  0
Serial.sys: Enter IoControl routine
InputBufferLength:  6     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_CHARS   --
Serial.sys: SetChars:   0  0  0  0 11 13
Serial.sys: Enter IoControl routine
InputBufferLength:  16     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_HANDFLOW   --
Serial.sys: Set_HandFlow OK


Serial.sys: Enter IoControl routine
InputBufferLength:  20     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_TIMEOUTS   --
Serial.sys: Set_Timeouts

Serial.sys: Enter IoControl routine
InputBufferLength:  4     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_WAIT_MASK   --
Serial.sys: Set wait mask:   0xa0

Serial.sys: Enter IoControl routine
InputBufferLength:  0     OutputBufferLength:   4
Serial.sys: --  IOCTL_SERIAL_WAIT_ON_MASK   --
Serial.sys: MarkIrpPending


Serial.sys: Enter Read routine
InputBufferLength:  0     OutputBufferLength:   80

进入程序正常状态
NTICE: Exit32 PID=134  MOD=notepad
NTICE: Unload32 MOD=es
NTICE: Unload32 MOD=txfaux


退出程序
Serial.sys: Enter IoControl routine
InputBufferLength:  4     OutputBufferLength:   0
Serial.sys: --  IOCTL_SERIAL_SET_WAIT_MASK   --
Serial.sys: Set wait mask:   0xa0
Serial.sys: Enter IoControl routine
InputBufferLength:  4     OutputBufferLength:   0
Serial.sys: --   IOCTL_SERIAL_PURGE  --
Serial.sys: IOCTL_SERIAL_PURGE:   0x3
Serial.sys: Enter RequestPurgeQueue routine...
Serial.sys: Enter RequestPurgeQueue routine...
Serial.sys: Enter RequestCancelRead routine...
Serial.sys: Enter RequestCancel routine...
Serial.sys: to acquire spin lock...
Serial.sys: acquire spin lock OK!
Serial.sys: Find out the pending irp, to remove...
Serial.sys: release spin lock
Serial.sys: Cancelled Irp
Entering IRP_MJ_Cleanup
Serial.sys: to cleanup pending IO IRP
Serial.sys: Enter RequestPurgeQueue routine...
Serial.sys: to cleanup pending Read IRP
Serial.sys: Enter RequestPurgeQueue routine...
Serial.sys: to cleanup pending Write IRP
Serial.sys: Enter RequestPurgeQueue routine...
Entering IRP_MJ_CLOSE
NTICE: Unload32 MOD=HTRN_JIS
NTICE: Exit32 PID=390  MOD=hypertrm
NTICE: Unload32 MOD=NTLANMAN
NTICE: Unload32 MOD=netui1
NTICE: Unload32 MOD=netui0

