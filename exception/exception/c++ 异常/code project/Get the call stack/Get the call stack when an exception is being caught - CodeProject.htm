<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0056)http://www.codeproject.com/KB/exception/StackTracer.aspx -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Get the call stack when an exception is being caught - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="./Get the call stack when an exception is being caught - CodeProject_files/CodeProject.min.css">

	


<meta name="Description" content="Provides a utility class to return the call stack when an exception is being caught, using Windows SEH.; Author: Baiyan Huang; Updated: 31 Aug 2009; Section: Exception Handling; Chapter: General Programming; Updated: 31 Aug 2009">
<meta name="Keywords" content="VC6, VC7, VC7.1, VC8.0, Windows, Win32, Win64, Dev, QA, Beginner,Exception Handling,General Programming,Free source code, tutorials">
<meta name="Author" content="Baiyan Huang">
<meta name="Rating" content="General">
<meta name="Robots" content="index, follow, NOODP">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="The Code Project">
<meta name="google-site-verification" content="RP2bNCUeOmNkkJesEnU8X3UyTbqIcCKP0CmdwU8in5k">

<link rel="dns-prefetch" href="http://ajax.googleapis.com/"> 

<link rel="canonical" href="./Get the call stack when an exception is being caught - CodeProject_files/Get the call stack when an exception is being caught - CodeProject.htm">

<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - MFC/C++" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - VB.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=6">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Mobile" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=18">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - ASP.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=4">

<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">

	<!--<base target="_top">--><base href="." target="_top">
	<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="apple-touch-icon" href="http://www.codeproject.com/images/FavIcon-Apple.png" type="image/png">
<script type="text/javascript" language="Javascript">//<![CDATA[
if(top!=self)top.location.href=location.href; if(typeof(DemoUrl)!="undefined")document.write(unescape('%3Cme')+'ta http'+'-equiv="re' +'fresh" con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
function SelfCheck(){ return window.confirm("You are about to reply to your own message. Is this really what you want?");}
function MarkAns(MemberID,MsgID,gp,bp,mt,QID){
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\"  onclick=\"RateMsg("+MemberID.toString()+","+MsgID.toString()+",6,"+QID.toString()+");\"%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"good\" border=\"0\" align=\"absmiddle\" /%3E "+gp+" "+mt+"%3C/a%3E "));
 document.write(" &nbsp;"); document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\"  onclick=\"RateMsg("+MemberID.toString()+","+MsgID.toString()+",7,"+QID.toString()+");\"%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"bad\" border=\"0\" align=\"absmiddle\" /%3E "+bp+" "+mt+"%3C/a%3E"));
}

function MsgVFrm(MemberID,MsgID,GB,gp,bp,mt){
 if(!GB)document.write("Rate this message: ");
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"5":"1")+unescape(",0);\"%3E"));
 if(GB) document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"good\" border=\"0\" align=\"absmiddle\" /%3E "+gp+" "+mt+"%3C/a%3E "));
 else document.write(unescape("%3Cimg height=\"14px\" width=\"14px\" src=\"http://s.codeproject.com/script/Forums/Images/thumbs_down.gif\" alt=\"vote 1\" border=\"0\" align=\"middle\" /%3E%3C/a%3E "));
 if(GB)document.write(" &nbsp;"); else for(var i=1; i<=5;i++)
  document.write(unescape("%3Ca class=\"toolbar\" href=\"#xx" + MsgID.toString() + "xx\" title=\"vote this message a " + i.toString() + "\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ", " + i.toString() + ",0)\"%3E%3Cb%3E" + i.toString() + "%3C/b%3E%3C/a%3E "));
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"1":"5")+unescape(",0);\"%3E"));
 if(GB)document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"bad\" border=\"0\" align=\"absmiddle\" /%3E "+bp+" "+mt+"%3C/a%3E"));
 else document.write(unescape("%3Cimg height=\"14px\" width=\"14px\" src=\"http://s.codeproject.com/script/Forums/Images/thumbs_up.gif\" border=\"0\" alt=\"vote 5\" align=\"middle\" /%3E%3C/a%3E "));
}

function ReportMsg(userid, msgid, score) {
 if (confirm("Are you sure you want this message removed?"))
  return RateMsg(userid, msgid, score, 0);
 else return false;
}
function RateMsg(memberid, msgid, score, questionId) {
 var req = new XMLHttpRequest();
 req.onreadystatechange = function() {
  if (req.readyState == 4){
   if (req.status == 200){
    var respText = req.responseText;
    var re = new RegExp(unescape("\%3Cdiv\%3E(.*)\%3C/div\%3E"), "g");
    var match = re.exec(respText);
    voteStatus.innerHTML = unescape("%3Cb%3E") + (match&&match.length>1&&match[1])?match[1]:"An error occured" + unescape("%3C/b%3E");
   } else
    voteStatus.innerHTML = unescape("%3Cb style='color:red'%3EFailed!") + req.statusText + unescape("%3C/b%3E");
  }
 }
 var voteStatus = document.getElementById("MVF" + msgid);
 if (!voteStatus) return;
 voteStatus.innerHTML = unescape("%3Cb style='color:green'%3EVoting...%3C/b%3E");
 var strAction = "/script/Forums/Vote.aspx?js=1&fmid="+memberid.toString()+"&select="+msgid.toString()+"&score="+score.toString()+"&qid="+questionId.toString();
 req.open("GET", strAction, true);
 req.send(null);
  return false;
}
var smoothScroll = true;
var Selected = "-1";
function Pin(elm){
 CloseMsg(Selected);
 Selected=''
 var wrk=elm.parentNode; if(wrk)wrk=wrk.children[0];
 var fc=elm?elm.firstChild:null;
 if (wrk&&!wrk.pinned) {
  OpenMsg(wrk.name, true);wrk.pinned=true;fc.src='http://s.codeproject.com/script/forums/images/pinned.gif';fc.title='Pinned. Click to unpin'
 } else {
  wrk.pinned=false;CloseMsg(wrk.name); fc.src='http://s.codeproject.com/script/forums/images/pin.gif';fc.title='Click to pin message'
 }
 return false;
}
function CloseMsg(msgId) {
 if(!msgId||msgId==''||msgId<0)return;
 var lnk=document.getElementsByName(msgId);
 if(lnk&&lnk.length>0&&lnk[0].pinned)return;
 var hed=document.getElementById('F' + msgId.toString() + '_h0');
 if(hed) hed.className = hed.className.replace("Sel", "UnSel");
 var bdy=document.getElementById('F' + msgId.toString() + '_h1');
 if(bdy) bdy.style.display = 'none';
}
function OpenMsg(msgId, keep) {
 if(!msgId||msgId==''||msgId<0)return;
 var bdy=document.getElementById('F' + msgId.toString() + '_h1');
 if(bdy){
  var lnk=document.getElementsByName(msgId);
  if(lnk&&lnk.length>0&&lnk[0].pinned)keep=true;
  if(keep&&bdy.style.display!='none')return;
  if(bdy.style.display=='none') bdy.style.display='';
  else bdy.style.display = 'none';
 }
 var hed=document.getElementById('F' + msgId.toString() + '_h0');
 if (hed) hed.className = hed.className.replace('UnSel', 'Sel');
 if(bdy&&hed&&bdy.style.display!='none'){
  var webkitWeird=document.documentElement.scrollTop < document.body.scrollTop;
  if (!webkitWeird)document.body.scrollTop = getRealPos(hed, 'Top') - document.body.clientHeight/10;
  EnsureMessageVisible(msgId, true);
 }
}
function EnsureMessageVisible(msgID, bShowTop) {
	var webkitWeird = document.documentElement.scrollTop < document.body.scrollTop;
	var msgHeader = document.getElementById('F' + msgID + '_h0');
	var msgBody = document.getElementById('F' + msgID + '_h1');
	if (!msgBody || !msgHeader) return;
	var scrollContainer = document.documentElement;
	var top = getRealPos(msgHeader, 'Top');
	var bottom = getRealPos(msgBody, 'Top') + msgBody.offsetHeight;
	var scrollTop = webkitWeird? scrollTop = document.body.scrollTop:document.documentElement.scrollTop;
	if (scrollTop > top && !bShowTop) scrollTop = top - scrollContainer.clientHeight / 10;
	if (scrollTop + scrollContainer.clientHeight < bottom) scrollTop = bottom - scrollContainer.clientHeight;
	if (scrollTop > top && bShowTop) scrollTop = top - scrollContainer.clientHeight / 10;
 if (smoothScroll){
  if (webkitWeird) $(document.body).stop().animate({'scrollTop' : scrollTop}, 'fast');
  else $(scrollContainer).stop().animate({'scrollTop' : scrollTop}, 'fast');
 } else {
  if (webkitWeird) document.body.scrollTop = scrollTop;
  else scrollContainer.scrollTop = scrollTop;
 }
}
function getRealPos(i,which) {
	iPos = 0;
	while (i!=null)  {
		iPos += i['offset' + which];
		i = i.offsetParent;
	}
	return iPos;
}
var switchCallback;
function SwitchMessage(e, msgId) {
  if (msgId) msgId=msgId.toString();
  else {
    if(!e)e=window.event;
    var target=e.target?e.target:e.srcElement;
    while(target&&target.className!='message-link')target=target.parentNode;
    if(!target||target.className!='message-link')return;
    if(target.pinned){/*Selected='';*/return false;}
    msgId=target.name;
  }
  CloseMsg(Selected)
  if(Selected==msgId) Selected='';
  else { OpenMsg(msgId, false); Selected=msgId;}
  if (e){if(e.preventDefault)e.preventDefault;else e.returnValue=false;}
    if(switchCallback)switchCallback(null, msgId)
  return false;
}


//]]>
</script>

<script type="text/javascript" async="" src="./Get the call stack when an exception is being caught - CodeProject_files/ga.js"></script><script type="text/javascript" src="chrome-extension://bfbmjmiodbnnpllbbbfblcplfjjepjdn/js/injected.js"></script></head>	

<body class="chrome chrome15">




<a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#Main"><img alt="Click here to Skip to main content" class="access-link" src="./Get the call stack when an exception is being caught - CodeProject_files/t.gif"></a>


<div class="page-background">
	<div id="A" class="container-content">

		
		<div id="ctl00_Suggest" class="suggestions">
		
<div class="alert-bar " style="">
	<a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" class="close-notify">×</a>
	<div><b>Not quite what you are looking for? You may want to try:</b><ul class="see-also"><li><a href="http://www.codeproject.com/KB/cpp/exceptionhandler.aspx?q=c%2b%2b+exception">How a C++ compiler implements exception handling</a></li><li><a href="http://www.codeproject.com/KB/exception/Win32Exceptions.aspx?q=c%2b%2b+exception">Win32 Exceptions – OS Level Point of View</a></li></ul><div id="removeHilite" class="alert-bar-command">
<a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" onclick="unmarkText(&#39;contentdiv&#39;,&#39;removeHilite&#39;)">highlights off</a>
</div>
</div>
</div>
		</div>

		

		
		

<div class="container nav-memberbar clearfix">
<div class="member-stats float-left">8,259,322 members and growing! (36,794 online)</div>
<div class="float-left"></div>
<div class="float-right">
<span id="ctl00_MemberMenu_CurRat" class="tooltip">
		<a id="ctl00_MemberMenu_MyProfile" href="http://www.codeproject.com/script/Membership/View.aspx?mid=6590118">sunyongjie1984</a><img src="./Get the call stack when an exception is being caught - CodeProject_files/arrow-down-16.png" style="width:16px;height:16px;vertical-align:bottom">
		<div class="tooltip-flyout" style="width:110px !important">
			<div><a id="ctl00_MemberMenu_MySettingsNonSSL" href="http://www.codeproject.com/script/Membership/Modify.aspx">My Settings</a></div>
			<div><a id="ctl00_MemberMenu_MySettings" href="https://www.codeproject.com/script/Membership/Modify.aspx"><img src="./Get the call stack when an exception is being caught - CodeProject_files/secure.png" width="13px" height="14px" style="vertical-align:middle;border:0">My Settings (SSL)</a></div>
			<div><a id="ctl00_MemberMenu_MyContacts" href="http://www.codeproject.com/script/Membership/ListContacts.aspx">My Contact info</a></div>
			<div><a id="ctl00_MemberMenu_MyBookmarks" href="http://www.codeproject.com/script/Bookmarks/List.aspx?obtid=2">My Bookmarks</a></div>
			
			<div><a id="ctl00_MemberMenu_MyCodeProject" href="http://www.codeproject.com/script/Membership/MyCodeProject.aspx">My Watched Items</a></div>
			<div><a id="ctl00_MemberMenu_MyArticles" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=6590118">My Articles</a></div>
			<div><a id="ctl00_MemberMenu_MyMessages" href="http://www.codeproject.com/script/Forums/Messages.aspx?fmid=6590118">My Messages</a></div>
			<div><a id="ctl00_MemberMenu_MyQuestions" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=questions&mid=6590118&showall=True">My Questions</a></div>
			<div><a id="ctl00_MemberMenu_MyAnswers" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=answers&mid=6590118&showall=True">My Answers</a></div>
			
		</div>
	</span><span id="ctl00_MemberMenu_TotalPoints" title="Total reputation points 152" class="member-rep-box bronze" style="margin-left:0"><a href="http://www.codeproject.com/script/Reputation/List.aspx?mid=6590118">152</a></span>
	&nbsp;
	<a id="ctl00_MemberMenu_Signout" href="http://www.codeproject.com/script/Membership/LogOff.aspx?rp=%2fKB%2fexception%2fStackTracer.aspx">Sign out</a>


</div>

</div>
		

		
		<table width="100%" cellspacing="0" cellpadding="0" border="0">
		<tbody><tr>
			<td class="header"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" title="The Code Project" src="./Get the call stack when an exception is being caught - CodeProject_files/logo225x90.gif" alt="Home" style="border-width:0px;"></a></td>
			<td class="header" align="right">
				<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="728x90" lqm_country="CN" lqm_tags="VC6,VC7,VC7.1,VC8.0,Windows,Win32,Win64,Dev,QA,Beginner"><iframe id="lqmad1" width="728" height="90" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
			</td>
		</tr></tbody></table>

		<table cellpadding="0" cellspacing="0" class="contrast1-background extended"><tbody><tr><td nowrap="nowrap">
			

<div class="navbar clearfix">
<ul id="nav">

<li><a id="ctl00_TopNavBar_Home" class="down" href="http://www.codeproject.com/">Home</a>


</li><li><a id="ctl00_TopNavBar_Art" class="down selected" href="http://www.codeproject.com/script/Articles/Latest.aspx">Articles</a>

	<ul>
		<li><a id="ctl00_TopNavBar_ArtTopicList" class="fly last" onmouseover="ShowMap(this, &#39;siteMap&#39;);" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Chapters and Sections</a><ul id="ctl00_TopNavBar_MapFlyout"><li>
				<div id="siteMap" class="tooltip-flyout">
					<img src="./Get the call stack when an exception is being caught - CodeProject_files/animated.gif" style="margin:150px;width:100px;height:100px;">
				</div>
			</li></ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="http://www.codeproject.com/search.aspx">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=6,8">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="http://www.codeproject.com/search.aspx?aidlst=152&sa_us=True">Beginner Articles</a></li>
		<li id="ctl00_TopNavBar_VideosLink">
			<a id="ctl00_TopNavBar_ArtVideoArticles" class="fly" href="http://www.codeproject.com/script/Articles/VideoArticleList.aspx">Video Articles</a>
		</li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="http://www.codeproject.com/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly" href="http://www.codeproject.com/script/Articles/Submit.aspx">Post an Article</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostTipTrick" class="fly" href="http://www.codeproject.com/Tips/post.aspx">Post Tip &amp; Trick</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly break" href="http://www.codeproject.com/script/Articles/BlogFeed.aspx">Post your Blog</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="http://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly last" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
	</ul>

</li>



<li><a id="ctl00_TopNavBar_Answers" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">Quick Answers</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#_comments">Ask a Question about this article</a></li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly" href="http://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=78" style="padding-left:30px">C++ questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=308" style="padding-left:30px">C#4.0 questions</a></li>
			
	</ul>

</li>



<li><a id="ctl00_TopNavBar_Forums" href="http://www.codeproject.com/script/Forums/List.aspx">Discussions</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="http://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3304/Work-Training-Issues.aspx">Work &amp; Training Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1725/Database.aspx">Database</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1653293/NET-4-5-and-Visual-Studio-11.aspx">.NET 4.5 and Visual Studio 11</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1540733/Sharepoint.aspx">Sharepoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1640/Web-Development.aspx">Web Development<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/12076/ASP-NET.aspx">ASP.NET</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1580227/CSS.aspx">CSS</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1580226/JavaScript.aspx">JavaScript</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1213656/PHP.aspx">PHP</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1645/Site-Bugs-Suggestions.aspx">Site Bugs / Suggestions</a>
</li>

		<li class="heading">Other Languages<span class="fly-menu">&gt;</span>
		<ul>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		</li>
		
	</ul>

</li>

<li><a id="ctl00_TopNavBar_Zones" href="http://www.codeproject.com/Zones/index.aspx">Learning Zones</a>

	<ul>
		<!--<li class="heading">Zones</li>-->
		<li><a href="http://www.codeproject.com/Zones/Commerce/" class="fly">The Commerce Zone</a></li><li><a href="http://www.codeproject.com/Zones/Mobile/" class="fly">The Mobile Zone</a></li><li><a href="http://www.codeproject.com/Zones/Cloud/" class="fly">The Cloud Zone</a></li><li><a href="http://www.codeproject.com/Zones/Hardware/" class="fly">The Hardware Zone</a></li><li><a href="http://www.codeproject.com/Zones/Parallelism/" class="fly">The Parallelism Zone</a></li><li><a href="http://www.codeproject.com/Zones/WPF-Silverlight/" class="fly">The WPF / Silverlight Zone</a></li><li><a href="http://www.codeproject.com/Zones/Flex-Flash/" class="fly">The Flex / Flash Zone</a></li><li><a href="http://www.codeproject.com/Zones/HTML-CSS/" class="fly">The HTML5 / CSS3 Zone</a></li><li><a href="http://www.codeproject.com/Zones/SqlServer/" class="fly">The SQL Zone</a></li><li><a href="http://www.codeproject.com/Zones/WhitePapers/" class="fly break">WhitePapers / Webcasts</a></li>
		<li><a id="ctl00_TopNavBar_Solutions" class="fly last" href="http://www.codeproject.com/KB/solution-center/">Solutions Center</a></li>
	</ul>

</li>










<li><a id="ctl00_TopNavBar_Features" href="http://www.codeproject.com/Feature/">Features</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="http://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly" href="http://www.codeproject.com/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		<li><a id="ctl00_TopNavBar_Companies" class="fly break" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mgtid=1&mgm=True">Company Listings</a></li>
		<li><a id="ctl00_TopNavBar_Catalog" class="fly" href="http://www.codeproject.com/script/Catalog/List.aspx">Component &amp; Service Catalog</a></li>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="http://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_TechSummit" class="fly" href="http://www.codeproject.com/TechSummit/">Tech Summits</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="http://www.codeproject.com/Feature/Insider/">Daily Insider</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="http://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_PressRelease" class="fly" href="http://www.codeproject.com/script/PressReleases/Preview.aspx">Press Releases</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="http://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="http://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li><a id="ctl00_TopNavBar_AddIn" class="fly last" href="http://www.codeproject.com/Services/Addins/">The Code Project VS 2008 add-in</a></li>
	</ul>

</li>


<li><a id="ctl00_TopNavBar_Help" href="http://www.codeproject.com/KB/FAQs/">Help!</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="http://www.codeproject.com/info/guide.aspx">What is 'The Code Project'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly" href="http://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly" href="http://www.codeproject.com/Questions/ask.aspx">Post a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="http://www.codeproject.com/Forums/1645/Site-Bugs-Suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Site Directory</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://lakequincy.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly last" href="http://www.codeproject.com/info/about.aspx">About Us</a></li>
	</ul>

</li>


<li style="margin-left:10px">
<a id="ctl00_TopNavBar_Lounge" class="simple" href="http://www.codeproject.com/Lounge.aspx">The Lounge</a>

	<ul>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="http://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly" href="http://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_CleverLnk" class="fly" href="http://www.codeproject.com/feature/CleverCode.aspx">Clever Code</a></li>
		<li><a id="ctl00_TopNavBar_ShameLnk" class="fly" href="http://www.codeproject.com/feature/HallOfSHame.aspx">Hall of Shame</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="http://www.codeproject.com/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
	</ul>

</li>

</ul>

</div>

<script type="text/javascript">

function ShowMap(prnt, elmId) {
	var map = $('#' + elmId);
	
	if (!prnt.populated && !prnt.populating) {
		prnt.populating = true;
		map.css( { 'height': '400px', 'width': '400px' });
		map.load("/script/content/ajax/SiteMap.aspx", function() { prnt.populated = true; });
		prnt.populated = true;
		prnt.populating = false;
	}

	if (prnt.populated) {
		var left = Math.max(map.parent().offset().left, 200);
		var top = Math.max(map.parent().offset().top, 0);
		var width = Math.min((($(window).width()-left) * 0.9), 1000);
		var height = Math.min((($(window).height()-top) * 0.9), 700);
		map.css('width', width + 'px');
		map.css('height', height + 'px');
		map.css('overflow', 'auto');
		map.css('margin', '0');
	}
}

</script>
		</td><td align="right">
			

<div class="search-bar">

<form method="get" action="http://www.codeproject.com/search.aspx" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tbody><tr><td><input tabindex="2" class="search highlight" id="sb_tb" value="c++ exception" name="q"></td><td><input type="image" src="./Get the call stack when an exception is being caught - CodeProject_files/search.gif"></td></tr></tbody></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced small-text align-left" style="display: none; ">
	<b>Search within:<br></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="true"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>
<input type="radio" id="sb_ctlk" name="sbo" value="ctlk"><label for="sb_ctlk">Product Catalog</label><br>


		
		
	</div>
</div>
</form>

</div>
		</td></tr></tbody></table>
		

		
		<div class="container-article hreview-aggregate">
		
			
			<div class="container-header">
				<div id="ctl00_Header" class="header">

					<a name="Main"></a>

					
					<a name="_articleTop" id="_articleTop"></a>
					

<div class="clearfix hover-container">

	<div class="container">
		
		<div class="breadcrumb float-left"><a href="http://www.codeproject.com/script/Content/SiteMap.aspx"><span class="sitemap-anchor" onmouseover="ShowMap(this,&#39;map&#39;);"><img width="16px" height="16px" src="./Get the call stack when an exception is being caught - CodeProject_files/sitemap16.png" border="0" alt="Site map" style="vertical-align:middle"><div id="map" class="tooltip-flyout"><img src="./Get the call stack when an exception is being caught - CodeProject_files/animated.gif" style="margin:150px;width:100px;height:100px;border:0;"></div></span></a> » <a href="http://www.codeproject.com/Chapters/6/General-Programming.aspx">General Programming</a> » <a href="http://www.codeproject.com/KB/exception/">Exception Handling</a> » <a href="http://www.codeproject.com/KB/exception/#General">General</a></div>
	</div>

	
	<div id="ctl00_TitleArea_InfoArea" class="float-right">
		

<div class="infobox">
	<table class="tight small-text" cellpadding="0" cellspacing="1">
	<tbody><tr><td>Licence&nbsp;</td><td><a href="http://www.codeproject.com/info/cpol10.aspx" title="The Code Project Open License (CPOL)">CPOL</a></td></tr>
	
	<tr><td>First Posted&nbsp;</td><td nowrap="nowrap"><b>31 Aug 2009</b></td></tr>
	<tr><td>Views&nbsp;</td><td><b>9,096</b></td></tr>
	
	<tr><td>Downloads&nbsp;</td><td><b>226</b></td></tr>
		
	
	<tr><td>Bookmarked&nbsp;</td><td><b>19 times</b></td></tr>
	

	
	
	</tbody></table>
</div>	
	</div>

	
	<div class="item">
	<h1 id="ctl00_TitleArea_ArticleTitle" class="fn">Get the call stack when an exception is being caught</h1>
	</div>

	
	<div class="author">
		By <b><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5615898">Baiyan Huang</a></b> | 
		31 Aug 2009 
		

		
		
	</div>
	
	<div class="tags">
	<span id="ctl00_TitleArea_TagsList_TagWrp" class="tags">
	
	
	
	<span id="ctl00_TitleArea_TagsList_VisibleTags"><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=4">VC6</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=5">VC7</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=7">VC7.1</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=9">VC8.0</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=94">Windows</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=99">Win32</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=100">Win64</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=118">Dev</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=119">QA</a></span><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=152">Beginner</a></span></span> 

	
	
</span>

	</div>

	
	<div class="abstract summary"><span id="ctl00_TitleArea_ArticleDescr">Provides a utility class to return the call stack when an exception is being caught, using Windows SEH.</span></div>
</div>



					

				</div>

				<div id="ctl00_HeadSide" class="header-sidebar">
					<div class="align-left" style="height:24px">
						


&nbsp;










					</div>

					

<div class="bold pad-top">See Also</div>
<ul class="outdent small-text" style="margin-left:5px">
	<li><a id="ctl00_SeeAlso_LikeThis" href="http://www.codeproject.com/search.aspx?q=Get++call+stack+when+an+exception+is+being+caught">More like this</a></li>
	<li><a id="ctl00_SeeAlso_ByAuthor" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=5615898">More by this author</a></li>
</ul>

				</div>

			</div>
			

			
			<div id="ctl00_Nav" class="container-nav">
				<div id="ctl00_TabContainer" class="tabs-container clearfix">

					
					<div class="float-right action-links"> 
						<a id="ctl00_ActionLinks_PrintLnk" class="tooltip" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?display=Print">
	<img src="./Get the call stack when an exception is being caught - CodeProject_files/print.gif" width="24px" height="24px" style="vertical-align:middle;border:0">
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Print Article</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</a>

<span id="SBI"><img src="./Get the call stack when an exception is being caught - CodeProject_files/share_drop24.png" id="ctl00_ActionLinks_AddTo_Img" width="37" height="24" alt="add" style="vertical-align:middle">
</span>
<div id="ATD" class="list-socialbookmark" style="left: 618px; top: 193px; "><div><a class="AddTo" title="Add this page to Twitter" onclick="return socialLinks.addto(0);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Twitter.gif" width="16px" height="16px" border="0"> Twitter</a> </div><div><a class="AddTo" title="Add this page to Digg" onclick="return socialLinks.addto(1);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Digg.png" width="16px" height="16px" border="0"> Digg</a> </div><div><a class="AddTo" title="Add this page to Facebook" onclick="return socialLinks.addto(2);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Facebook.png" width="16px" height="16px" border="0"> Facebook</a> </div><div><a class="AddTo" title="Add this page to Del.icio.us" onclick="return socialLinks.addto(3);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Delicious.png" width="16px" height="16px" border="0"> Del.icio.us</a> </div><div><a class="AddTo" title="Add this page to Reddit" onclick="return socialLinks.addto(4);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Reddit.png" width="16px" height="16px" border="0"> Reddit</a> </div><div><a class="AddTo" title="Add this page to Stumbleupon" onclick="return socialLinks.addto(5);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_stumbleupon.png" width="16px" height="16px" border="0"> Stumbleupon</a> </div><div><a class="AddTo" title="Add this page to Newsvine" onclick="return socialLinks.addto(6);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Newsvine.png" width="16px" height="16px" border="0"> Newsvine</a> </div><div><a class="AddTo" title="Add this page to Technorati" onclick="return socialLinks.addto(7);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Technorati.png" width="16px" height="16px" border="0"> Technorati</a> </div><div><a class="AddTo" title="Add this page to Mr. Wong" onclick="return socialLinks.addto(8);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_MrWong.png" width="16px" height="16px" border="0"> Mr. Wong</a> </div><div><a class="AddTo" title="Add this page to Yahoo!" onclick="return socialLinks.addto(9);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Yahoo.png" width="16px" height="16px" border="0"> Yahoo!</a> </div><div><a class="AddTo" title="Add this page to Google" onclick="return socialLinks.addto(10);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Google.png" width="16px" height="16px" border="0"> Google</a> </div><div><a class="AddTo" title="Add this page to Windows Live" onclick="return socialLinks.addto(11);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/AddTo_Live.png" width="16px" height="16px" border="0"> Windows Live</a> </div><div><a class="AddTo" title="Send as Email" onclick="return socialLinks.addto(12);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#"><img align="absmiddle" src="./Get the call stack when an exception is being caught - CodeProject_files/envelope.gif" width="16px" height="16px" border="0"> Send as Email</a> </div></div> 
 

<span class="tooltip">
	<a id="ctl00_ActionLinks_ArticleBmk_ImgBt" title="Bookmark" alternatetext="Bookmark" name="bm_41923_2" onclick="return bookmarkMe(41923,2,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=41923&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&#39;,true);" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=41923&obtid=2&action=AddBookmark&bio=true" style="display:inline-block;height:24px;width:24px;vertical-align:middle;border:0"><img title="Bookmark" src="./Get the call stack when an exception is being caught - CodeProject_files/bookmark.png" alt="" style="border-width:0px;"></a>


<span id="ctl00_ActionLinks_ArticleBmk_StatusMsg" class="tiny-text" style="display:none" name="bm_41923_2"></span>
 
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Add to your CodeProject bookmarks</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</span>

<a id="discussAnch" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#_comments" class="tooltip anchorLink">
	
	<img src="./Get the call stack when an exception is being caught - CodeProject_files/discuss.gif" width="24px" height="24px" alt="Discuss" style="vertical-align:middle;border:0">
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Discuss this article</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</a>
<span id="ctl00_ActionLinks_cmtcnt" class="subdue small-text align-middle" style="margin-left:-4px">4</span>





					</div>

					<div class="float-left">
						
						

<div class="tabs float-left"><table cellpadding="0" cellspacing="0"><tbody><tr>
	<td class="tab-selected">Article</td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=41923">Browse Code</a></td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/Statistics.aspx?aid=41923">Stats</a></td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=41923">Revisions (4)</a></td>
</tr></tbody></table></div>	


						
						<div class="float-left" style="margin-left:15px">
							<div id="ctl00_CurRat" class="tooltip" name="CurRat_41923">
								

<table cellpadding="0" cellspacing="0" class="small-text">
<tbody><tr>
	
	<td class="nowrap">

		<span id="ctl00_ArticleRating_VI">
		<div class="nowrap rating-stars" style="height:24px;width:120px;position:relative;">
	<div class="clipped align-left float-left" style="height:24px;width:106px;">
		<img src="./Get the call stack when an exception is being caught - CodeProject_files/stars-fill.png" style="border-width:0px;">
	</div><div class="clipped" style="height:24px;width:14px;position:relative;">
		<img src="./Get the call stack when an exception is being caught - CodeProject_files/stars-empty.png" style="border-width:0px;position:absolute;top:0;right:0;">
	</div>
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;<span id="ctl00_ArticleRating_VotesR">&nbsp;<span class="rating">4.43</span> (<span class="count">4 votes</span>)</span>
		
	</td>

</tr>

</tbody></table>

								<div id="ctl00_RB" class="speech-bubble-container-up">
									<div class="speech-bubble-up" style="width:150px !important">
										            
<div>
<table class="feature" width="100%" height="50px" title="Voting Distribution. Recent data only" cellpadding="0" cellspacing="0"><tbody><tr><td class="chart-column"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(1).gif" width="20pxpx" height="1px" border="0px" alt="" title=""><br><span title="0 votes">1</span></td>
<td class="chart-column"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(1).gif" width="20pxpx" height="1px" border="0px" alt="" title=""><br><span title="0 votes">2</span></td>
<td class="chart-column"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pollcol.gif" width="20pxpx" height="16px" border="0px" alt="1 vote, 25.0%" title="1 vote, 25.0%"><br><span title="1 vote">3</span></td>
<td class="chart-column"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(1).gif" width="20pxpx" height="1px" border="0px" alt="" title=""><br><span title="0 votes">4</span></td>
<td class="chart-column"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pollcol.gif" width="20pxpx" height="50px" border="0px" alt="3 votes, 75.0%" title="3 votes, 75.0%"><br><span title="3 votes">5</span></td>
</tr></tbody></table><div class="small-text align-center">4.43/5 - 4 votes</div><div class="small-text align-center subdue">μ 4.43, σ<sub>a</sub> 1.75 [<a href="http://www.codeproject.com/KB/FAQs/RatingReputationFAQ.aspx#noisefilter">?</a>]</div>
</div>
									</div>
									<div class="speech-bubble-pointer-up">
										<div class="speech-bubble-pointer-up-inner"></div>
									</div>
								</div>
							</div>
						</div>

					</div>

				</div>

				<div id="ctl00_HeadSideFoot" class="tabs-sidebar">
					<div>Sponsored Links</div>
				</div>
			</div>
			

			
			<div class="container-text">

				<div id="AT" class="text">
					
					
					
					

					   

						
							
			
					<form name="aspnetForm" method="post" action="./Get the call stack when an exception is being caught - CodeProject_files/Get the call stack when an exception is being caught - CodeProject.htm" id="aspnetForm" style="margin:0;padding:0"><div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMjExOTQzNjk4Mw9kFgJmD2QWAgIGD2QWCgIBDxYCHgdWaXNpYmxlZ2QCEQ9kFgICAQ9kFgZmDw8WAh4LTmF2aWdhdGVVcmwFMi9zY3JpcHQvQXJ0aWNsZXMvQWRtaW4vRWRpdG9yQ2hvaWNlLmFzcHg/YWlkPTQxOTIzZGQCAg8PFgIfAQU4L3NjcmlwdC9Bd2FyZHMvQWRtaW4vQXdhcmRPYmplY3QuYXNweD9vYmlkPTQxOTIzJm9idGlkPTJkZAIKDw8WAh8BBS8vc2NyaXB0L0FydGljbGVzL0FkbWluL1F1ZXVlRWRpdC5hc3B4P2FpZD00MTkyM2RkAhMPZBYCAgEPZBYCAgEPZBYGZg8PFgIfAQUsL0tCL2V4Y2VwdGlvbi9TdGFja1RyYWNlci5hc3B4P2Rpc3BsYXk9UHJpbnRkZAIEDxYCHglpbm5lcmh0bWwFATRkAgUPDxYCHwEFJi9zY3JpcHQvQXJ0aWNsZXMvUmVwb3J0LmFzcHg/YWlkPTQxOTIzZGQCFQ9kFgICDQ9kFgYCAg8WAh4GYWN0aW9uBR4vS0IvZXhjZXB0aW9uL1N0YWNrVHJhY2VyLmFzcHgWCAIBD2QWAgIBDxYCHwBoZAIDD2QWAgICD2QWAgIBDxBkZBYAZAILDxYCHgtfIUl0ZW1Db3VudAIBZAIND2QWAgIBDxYCHgRUZXh0BUU8YSAgaHJlZj0iL0tCL2V4Y2VwdGlvbi9TdGFja1RyYWNlci5hc3B4I19hcnRpY2xlVG9wIj5BcnRpY2xlIFRvcDwvYT5kAgkPDxYEHwUFCVBlcm1hbGluax8BBR4vS0IvZXhjZXB0aW9uL1N0YWNrVHJhY2VyLmFzcHhkZAIYDxYCHwUFHkNvcHlyaWdodCAyMDA5IGJ5IEJhaXlhbiBIdWFuZ2QCFw9kFgICBQ8PFgIfAGhkZGRwV2Bb9S8Fjm9Qqi8tESfcuQMPjA==">
</div>

<div>

	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWCAKHp75UAsCUxcMHAsGUxcMHAsKUxcMHAsOUxcMHAsSUxcMHAs/7760LArm6kOQLToqYTLELO6+Ijuvhq8gzRdhAzoY=">
</div>

						<!-- Article Text Start -->
						<div id="contentdiv">
						



<!-- Article Starts -->


<ul class="download">
<li><a href="http://www.codeproject.com/KB/exception/StackTracer/StackTraceExample.zip">Download sample - 25.4 KB</a></li>

<li><a href="http://www.codeproject.com/KB/exception/StackTracer/StackTracer.zip">Download source code - 3.18 KB</a></li>
</ul>

<p><img height="372" alt="StackTraceExample" src="./Get the call stack when an exception is being caught - CodeProject_files/StackTracer.JPG" width="534"></p>

<h2>Introduction</h2>

<p><code>StackTracer</code> is a <span class="search-highlight">C++</span> class which enables you to get the call stack conveniently using Windows SEH, and then you can either show the <span class="search-highlight">exception</span> message or log it to help you diagnose the problem. It works both in Debug and Release modes as long as you have the PDB files. (It might be not that accurate in Release mode as functions might be optimized out.)</p>

<h2>Background</h2>

<p>We use Windows' SEH (Structured <span class="search-highlight">Exception</span> Handling) to handle <span class="search-highlight">exception</span>s in our application, using the <code>__try</code>, <code>__except</code> statements. We do this to protect our applications from crashing accidently. But this also hides the details of the problem, as we can only see the external operation that failed, but don't know what happened inside without debugging into the code.</p>

<p>With this <code>StackTracer</code> class integrated with the <code>__try</code>, <code>__except</code> statements, we can now pinpoint the problem with the callstack quickly. Whenever there is an <span class="search-highlight">exception</span>, the detailed information will be logged, and we just need to open the log file, and then everything will be clear.</p>

<h2>Using the code</h2>

<p>We use the <code>StackTracer</code> as a static class; it has four public members:</p>

<div class="pre-action-link" id="premain0" width="100%" style="display:block"><img id="preimg0" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="0"><span id="precollapse0" style="cursor: pointer; margin-bottom: 0px; " preid="0"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="0">Copy Code</a></div><pre id="pre0" style="margin-top: 0px; ">static LONG <span class="search-highlight">Exception</span>Filter(LP<span class="search-highlight">EXCEPTION</span>_POINTERS e);</pre>

<p>This function should be called in the <code>__except</code> clause; it takes the <code><span class="search-highlight">EXCEPTION</span>_POINTERS</code> structure as the context and works through the stack frame to get the call stack. Then, it will just return <code><span class="search-highlight">EXCEPTION</span>_EXECUTE_HANDLER</code> to execute the <span class="search-highlight">exception</span> handler - the <code>__except</code> block.</p>

<div class="pre-action-link" id="premain1" width="100%" style="display:block"><img id="preimg1" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="1"><span id="precollapse1" style="cursor: pointer; margin-bottom: 0px; " preid="1"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="1">Copy Code</a></div><pre id="pre1" style="margin-top: 0px; ">static std::string Get<span class="search-highlight">Exception</span>Msg();</pre>

<p>Return the <span class="search-highlight">exception</span> information (<span class="search-highlight">exception</span> code, call stack) with the format this class provides: as you can see at the beginning of the page.</p>

<div class="pre-action-link" id="premain2" width="100%" style="display:block"><img id="preimg2" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="2"><span id="precollapse2" style="cursor: pointer; margin-bottom: 0px; " preid="2"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="2">Copy Code</a></div><pre id="pre2" style="margin-top: 0px; ">static DWORD Get<span class="search-highlight">Exception</span>Code();
static std::vector&lt;FunctionCall&gt; Get<span class="search-highlight">Exception</span>CallStack();</pre>

<p>There are two functions that return the data of the <span class="search-highlight">exception</span>. If you don't like the default format provided by <code>Get<span class="search-highlight">Exception</span>Msg</code>, you can make your own.</p>

<p>The call stack depth is set to 6, as I believe it will give us enough information to diagnose the problem, but you can also change following line to get deeper:</p>

<div class="pre-action-link" id="premain3" width="100%" style="display:block"><img id="preimg3" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="3"><span id="precollapse3" style="cursor: pointer; margin-bottom: 0px; " preid="3"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="3">Copy Code</a></div><pre id="pre3" style="margin-top: 0px; ">const int CALLSTACK_DEPTH = 6;</pre>

<p>To use this class, you can integrate it with any important function you want to monitor, or simply, just wrap the <code>Main</code> function, thus all the functions will be detected.</p>

<p>Here is how you use it:</p>

<p>Suppose you have a function which accomplishes a large operation:</p>

<div class="pre-action-link" id="premain4" width="100%" style="display:block"><img id="preimg4" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="4"><span id="precollapse4" style="cursor: pointer; margin-bottom: 0px; " preid="4"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="4">Copy Code</a></div><pre id="pre4" style="margin-top: 0px; ">void LargeOperation()
{ 
   // Large Operations
}</pre>

<p>You want to protect this function using SEH, but also want to get the call stack when there is an <span class="search-highlight">exception</span>. You can integrate it with <code>StackTracer</code>.</p>

<div class="pre-action-link" id="premain5" width="100%" style="display:block"><img id="preimg5" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="5"><span id="precollapse5" style="cursor: pointer; margin-bottom: 0px; " preid="5"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="5">Copy Code</a></div><pre lang="C++" id="pre5" style="margin-top: 0px; "><span class="code-comment">//</span><span class="code-comment"> Pop up the <span class="search-highlight">exception</span> information</span>
<span class="code-keyword">void</span> PopupCallStack()
{
    std::<span class="code-SDKkeyword">string</span> str = StackTracer::Get<span class="search-highlight">Exception</span>Msg();
    AfxMessageBox(CString(str.c_str()));
}

<span class="code-comment">//</span><span class="code-comment"> Log the <span class="search-highlight">exception</span> information</span>
<span class="code-keyword">void</span> LogCallStack()
{
    std::<span class="code-SDKkeyword">string</span> str = StackTracer::Get<span class="search-highlight">Exception</span>Msg();
    Log(str.c_str());
}
<span class="code-keyword">void</span> LargeOperation()
{
    <span class="code-keyword">__try</span>
    {
        <span class="code-comment">//</span><span class="code-comment"> Large Operations</span>
    }
    <span class="code-keyword">__except</span>(StackTracer::<span class="search-highlight">Exception</span>Filter(Get<span class="search-highlight">Exception</span>Information()))
    {
        PopupCallStack();
        <span class="code-comment">//</span><span class="code-comment">LogCallStack(); </span>
    }
}</pre>

<h2>Explanation</h2>

<p>This class take the <code><span class="search-highlight">EXCEPTION</span>_POINTERS</code> structure that is generated when an <span class="search-highlight">exception</span> is raised, then works through the stack frames in the <span class="search-highlight">exception</span> context to get the call stack. It needs symbol files to get the detailed information, such as function name and line number. Below is a skeleton of the core idea:</p>

<div class="pre-action-link" id="premain6" width="100%" style="display:block"><img id="preimg6" src="./Get the call stack when an exception is being caught - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="6"><span id="precollapse6" style="cursor: pointer; margin-bottom: 0px; " preid="6"> Collapse</span><span> | </span><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" preid="6">Copy Code</a></div><pre id="pre6" style="margin-top: 0px; "><a href="http://msdn.microsoft.com/en-us/library/ms681351%28VS.85%29.aspx">SymInitialize</a>(...); 
STACKFRAME64 sf;
While(<a href="http://msdn.microsoft.com/en-us/library/ms680650%28VS.85%29.aspx">StackWalk64</a>(...))
{
    SYMBOL_INFO symbolInfo;
    <a href="http://msdn.microsoft.com/en-us/library/ms681323%28VS.85%29.aspx">SymFromAddr</a>(...);

    IMAGEHLP_LINE64 lineInfo;
    <a href="http://msdn.microsoft.com/en-us/library/ms681330%28VS.85%29.aspx">SymGetLineFromAddr64</a>(...); 
}
<a href="http://msdn.microsoft.com/en-us/library/ms680696%28VS.85%29.aspx">SymCleanup</a>();</pre>

<p>First, it initializes the symbol handler, loads the necessary symbol files, and then it works though the stack frame upwards, from the most recent to the older ones. <code>StackWalk64</code> returns <code>true</code> if it gets the previous stack frame successfully. Then, <code>SymFromAddr</code> and <code>SymGetLineFromAddr64</code> will get the function name and the line number in the frame.</p>

<h2>History</h2>

<ul>
<li>8/30/2009: Initial version.</li>
</ul>






						</div>
						<!-- Article Text End -->

						
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						

						

						
						<h2 id="ctl00_AboutHeading">About the Author</h2>

						<div class="float-right">
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="300x250" lqm_country="CN" lqm_tags="VC6,VC7,VC7.1,VC8.0,Windows,Win32,Win64,Dev,QA,Beginner"><iframe id="lqmad2" width="300" height="250" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
						</div>

						
						
   
<table cellpadding="0" cellspacing="5" border="0">
<tbody><tr valign="top">
<td id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhotoTable" valign="top" style="width:155px;">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" href="http://www.codeproject.com/Members/Baiyan-Huang">Baiyan Huang</a></b><br><br>
	<center></center>

	<div class="small-text">
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer (Senior)</span><br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany">Autodesk</span><br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation"><img src="./Get the call stack when an exception is being caught - CodeProject_files/CN.gif" alt="China" width="16px" height="11px"> China</span><br>
		<br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberType">Member</span><br>
		

		
	</div>
</td>

<td>
	<br>	
</td>
</tr>
</tbody></table><br>
						
						

						<div class="clearfix"></div>

						
						<div id="ctl00_RateArticleRow" class="clearfix voting-bar">
						<div class="float-left" style="padding-top:8px"><a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#_articleTop">Article Top</a></div>
						<div class="float-right align-right">
							<div id="ctl00_RateArticle_RateItemWrapper" class="small-text" name="RateItem_41923">

	<table width="100%" cellpadding="0" cellspacing="0" class="small-text">
	<tbody><tr>
		<td id="ctl00_RateArticle_VoteResultDiv" nowrap="nowrap" align="right">
			<span class="voteRes"></span>
			<img class="loaderImg" width="16px" alt="loading..." height="16px" src="./Get the call stack when an exception is being caught - CodeProject_files/ajax-loader.gif" style="display:none;"> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tbody><tr>
				
				<td id="ctl00_RateArticle_RateText" class="rating-prompt">
					Rate this:
				</td>

				<td id="ctl00_RateArticle_StartForm" align="right" nowrap="nowrap">
					<i>&nbsp;&nbsp;Poor</i>
				</td>

				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input id="ctl00_RateArticle_VoteRBL_0" type="radio" name="ctl00$RateArticle$VoteRBL" value="1" onclick="ChkRtctl00_RateArticle(1, 41923);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_1" type="radio" name="ctl00$RateArticle$VoteRBL" value="2" onclick="ChkRtctl00_RateArticle(2, 41923);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_2" type="radio" name="ctl00$RateArticle$VoteRBL" value="3" onclick="ChkRtctl00_RateArticle(3, 41923);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_3" type="radio" name="ctl00$RateArticle$VoteRBL" value="4" onclick="ChkRtctl00_RateArticle(4, 41923);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_4" type="radio" name="ctl00$RateArticle$VoteRBL" value="5" onclick="ChkRtctl00_RateArticle(5, 41923);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"></span> 

						
					</span>

				</td>

				<td id="ctl00_RateArticle_EndForm" align="left">
					<i>Excellent</i>
				</td>

				<td>	
					<input type="submit" name="ctl00$RateArticle$SubmitRateBtn" value="Vote" onclick="return PostBack_ctl00_RateArticle_RateItemWrapper();" id="ctl00_RateArticle_SubmitRateBtn" class="button">
				</td>
			</tr>
			</tbody></table>
			<span id="ctl00_RateArticle_ErrorMessage" class="error"></span>
		</td>
	</tr>
	</tbody></table>
	<div class="hover-container">
		<div id="ctl00_RateArticle_RCD" class="rating-comment align-left float-right">
			Add a reason or comment to your vote: <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" id="clear-rate_ctl00_RateArticle_RCD" title="close">x</a><br>
			<textarea class="RateComment" rows="5" cols="60" style="width:98%;"></textarea>
			<span id="ctl00_RateArticle_CommentReq" class="subdue">Votes of 3 or less require a comment</span>
		</div>
	</div>
</div>

						</div>
						</div>
						

					</form>

					
					<div style="margin:auto;padding:0px 10px;white-space:nowrap;overflow:hidden;width:468px;height:60px">		  
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="468x60" lqm_country="CN" lqm_tags="VC6,VC7,VC7.1,VC8.0,Windows,Win32,Win64,Dev,QA,Beginner"><iframe id="lqmad3" width="468" height="60" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
						
					</div>
					

					
					
					<h2>Comments and Discussions</h2>
					<a name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoard" onclick="return SwitchMessage(event, null)">
<table id="ForumTable" class="box forum" cellpadding="0" cellspacing="0">
<tbody><tr>
<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
<tbody><tr class="forum-header1">
<td style="white-space:nowrap;"><img src="./Get the call stack when an exception is being caught - CodeProject_files/info-16.gif" alt="FAQ" style="border-width:0;width:16px;height:16px;vertical-align:middle;">&nbsp;<a href="http://www.codeproject.com/KB/FAQs/MessageBoardsFAQ.aspx"><b>FAQ</b></a>&nbsp;</td><td colspan="2" style="white-space:nowrap;text-align:right;"><form action="http://www.codeproject.com/Search.aspx?fid=0" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1548571"><input type="text" class="Frm_Input" name="qf">&nbsp;<input type="submit" value="Search" class="button">
</form></td>
</tr><tr class="forum-header2">
<td colspan="3" style="width:100%;"><div style="text-align:right;">
<form action="http://www.codeproject.com/script/Forums/SetOptions.aspx?floc=%2fKB%2fexception%2fStackTracer.aspx&fid=1548571" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1548571"><input type="hidden" name="currentQS" value="?floc=%2fKB%2fexception%2fStackTracer.aspx&amp;fid=1548571"><input type="hidden" name="floc" value="/KB/exception/StackTracer.aspx"><input type="checkbox" name="prof" id="prof" style="vertical-align:middle;"><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Noise level<select size="1" class="Frm_DropDown" name="noise">
<option value="1">Very High</option><option value="2">High</option><option selected="" value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="Frm_DropDown" name="view">
<option selected="" value="Quick">Normal</option><option value="Topic">Expand Posts only</option><option value="Expanded">Expand Posts &amp; Replies</option><option value="Thread">Thread View</option><option value="Normal">No Javascript</option><option value="Preview">No JS + Preview</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="Frm_DropDown" name="mpp">
<option value="10">10</option><option selected="" value="25">25</option><option value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button">
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="forum-navbar">
<td><img src="./Get the call stack when an exception is being caught - CodeProject_files/forum_newmsg.gif" alt="new" width="16px" height="16px" border="0" align="top"><a href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&floc=/KB/exception/StackTracer.aspx" class="toolbar" name="Frm_HoverNL" title="Create a new message thread" target="_top"><b>New Message</b></a></td><td> <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx?fid=1548571">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><span class="subdue">First</span> <span class="subdue">Prev</span> <span class="subdue">Next</span></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background">
<tbody><tr>
<td><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" border="0" width="1px" height="5px" alt=""></td>
</tr><tr class="MsgHd LoVote Rt HdUnSel " id="F3276681_h0">
<td width="100%"><table class="quickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="16px" class="Frm_MsgIndent"><a name="xx3276681xx"></a><img height="16px" width="16px" align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_question.gif" alt="Question"></td><td class="Frm_MsgSubject hover-container"><a class="message-link" name="3276681" parent="0" thread="3276681" href="http://www.codeproject.com/Messages/3276681/and-Cplusplus-try-catch.aspx">and C++ try catch(...) ?</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" title="Click to pin message"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pin.gif" border="0" align="top" alt="Pin" width="13px" height="12px"></a></td><td class="Frm_MsgIcon"><img border="0" src="./Get the call stack when an exception is being caught - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=240416">wheregone</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">23:50 18 Nov '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F3276681_h1" style="display:none;">
<td width="100%"><table class="quickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:16px;"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" height="1px" width="16px" alt=""></td><td class="MsgBd BdSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">thanks for the article.<br>
&nbsp;<br>
but what about c++ try catch(...)? <br>
&nbsp;<br>
<div class="ForumSig">Hardware-OS-Software<br>
===== Bridge =======</div><br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3276681&floc=/KB/exception/StackTracer.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3276681&floc=/KB/exception/StackTracer.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?fid=1548571&tid=3276681" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3276681/and-Cplusplus-try-catch.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3276681&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3276681" style="white-space:nowrap;">1.00/5 (1 vote) <script type="text/javascript">
MsgVFrm(240416,3276681,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" onclick="RateMsg(240416, 3276681,1,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" title="vote this message a 1" onclick="RateMsg(240416, 3276681, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" title="vote this message a 2" onclick="RateMsg(240416, 3276681, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" title="vote this message a 3" onclick="RateMsg(240416, 3276681, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" title="vote this message a 4" onclick="RateMsg(240416, 3276681, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" title="vote this message a 5" onclick="RateMsg(240416, 3276681, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3276681xx" onclick="RateMsg(240416, 3276681,5,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr class="quick">
<td class="msg-divide"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" border="0" width="1px" height="1px" alt=""></td>
</tr><tr class="MsgHd HdUnSel " id="F3277691_h0">
<td width="100%"><table class="quickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="34px" class="Frm_MsgIndent"><a name="xx3277691xx"></a><img height="16px" width="16px" align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_answer.gif" alt="Answer"></td><td class="Frm_MsgSubject hover-container"><a class="message-link" name="3277691" parent="3276681" thread="3276681" href="http://www.codeproject.com/Messages/3277691/Re-and-Cplusplus-try-catch.aspx">Re: and C++ try catch(...) ?</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" title="Click to pin message"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pin.gif" border="0" align="top" alt="Pin" width="13px" height="12px"></a></td><td class="Frm_MsgIcon"><img border="0" src="./Get the call stack when an exception is being caught - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5615898">Baiyan Huang</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">18:44 19 Nov '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F3277691_h1" style="display:none;">
<td width="100%"><table class="quickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:34px;"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" height="1px" width="34px" alt=""></td><td class="MsgBd BdSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">In my understanding, C++'s try catch(...) is a wrapper of the System's SEH to make it more beautiful in syntax, I don't think C++'s try catch(...) could do this. But you always could use SEH in you C++ code, and it doesn't need to be everywhere<br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3277691&floc=/KB/exception/StackTracer.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3277691&floc=/KB/exception/StackTracer.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?fid=1548571&tid=3276681" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3277691/Re-and-Cplusplus-try-catch.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3277691&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3277691" style="white-space:nowrap;"><script type="text/javascript">
MsgVFrm(5615898,3277691,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" onclick="RateMsg(5615898, 3277691,1,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" title="vote this message a 1" onclick="RateMsg(5615898, 3277691, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" title="vote this message a 2" onclick="RateMsg(5615898, 3277691, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" title="vote this message a 3" onclick="RateMsg(5615898, 3277691, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" title="vote this message a 4" onclick="RateMsg(5615898, 3277691, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" title="vote this message a 5" onclick="RateMsg(5615898, 3277691, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3277691xx" onclick="RateMsg(5615898, 3277691,5,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr class="quick">
<td class="root msg-divide"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" border="0" width="1px" height="1px" alt=""></td>
</tr><tr class="MsgHd Rt HdUnSel " id="F3213447_h0">
<td width="100%"><table class="quickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="16px" class="Frm_MsgIndent"><a name="xx3213447xx"></a><img height="16px" width="16px" align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_general.gif" alt="General"></td><td class="Frm_MsgSubject hover-container"><a class="message-link" name="3213447" parent="0" thread="3213447" href="http://www.codeproject.com/Messages/3213447/Excellent-a-small-addition-though.aspx">Excellent; a small addition though</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" title="Click to pin message"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pin.gif" border="0" align="top" alt="Pin" width="13px" height="12px"></a></td><td class="Frm_MsgIcon"><img border="0" src="./Get the call stack when an exception is being caught - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=64004">aliakseis</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">20:13 27 Sep '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F3213447_h1" style="display:none;">
<td width="100%"><table class="quickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:16px;"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" height="1px" width="16px" alt=""></td><td class="MsgBd BdSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Sometimes our intervention to the existing source code base should be as small as possible. The next approach can help in this case: <a href="http://aliakseis.livejournal.com/5848.html">Opus #11</a><br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3213447&floc=/KB/exception/StackTracer.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3213447&floc=/KB/exception/StackTracer.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?fid=1548571&tid=3213447" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3213447/Excellent-a-small-addition-though.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3213447&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3213447" style="white-space:nowrap;"><script type="text/javascript">
MsgVFrm(64004,3213447,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" onclick="RateMsg(64004, 3213447,1,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" title="vote this message a 1" onclick="RateMsg(64004, 3213447, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" title="vote this message a 2" onclick="RateMsg(64004, 3213447, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" title="vote this message a 3" onclick="RateMsg(64004, 3213447, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" title="vote this message a 4" onclick="RateMsg(64004, 3213447, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" title="vote this message a 5" onclick="RateMsg(64004, 3213447, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3213447xx" onclick="RateMsg(64004, 3213447,5,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr class="quick">
<td class="root msg-divide"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" border="0" width="1px" height="1px" alt=""></td>
</tr><tr class="MsgHd LoVote Rt HdUnSel " id="F3179987_h0">
<td width="100%"><table class="quickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="16px" class="Frm_MsgIndent"><a name="xx3179987xx"></a><img height="16px" width="16px" align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_general.gif" alt="General"></td><td class="Frm_MsgSubject hover-container"><a class="message-link" name="3179987" parent="0" thread="3179987" href="http://www.codeproject.com/Messages/3179987/excellent.aspx">excellent</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#" title="Click to pin message"><img src="./Get the call stack when an exception is being caught - CodeProject_files/pin.gif" border="0" align="top" alt="Pin" width="13px" height="12px"></a></td><td class="Frm_MsgIcon"><img border="0" src="./Get the call stack when an exception is being caught - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=2172993">tjroamer</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">3:52 1 Sep '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr id="F3179987_h1" style="display:none;">
<td width="100%"><table class="quickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:16px;"><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" height="1px" width="16px" alt=""></td><td class="MsgBd BdSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">this is what I missed for some time. <br>
&nbsp;<br>
<div class="ForumSig">be lazier, be cleverer!</div><br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3179987&floc=/KB/exception/StackTracer.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1548571&select=3179987&floc=/KB/exception/StackTracer.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?fid=1548571&tid=3179987" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3179987/excellent.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3179987&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3179987" style="white-space:nowrap;">2.00/5 (1 vote) <script type="text/javascript">
MsgVFrm(2172993,3179987,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" onclick="RateMsg(2172993, 3179987,1,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" title="vote this message a 1" onclick="RateMsg(2172993, 3179987, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" title="vote this message a 2" onclick="RateMsg(2172993, 3179987, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" title="vote this message a 3" onclick="RateMsg(2172993, 3179987, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" title="vote this message a 4" onclick="RateMsg(2172993, 3179987, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" title="vote this message a 5" onclick="RateMsg(2172993, 3179987, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/KB/exception/StackTracer.aspx#xx3179987xx" onclick="RateMsg(2172993, 3179987,5,0);"><img height="14px" width="14px" src="./Get the call stack when an exception is being caught - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><img src="./Get the call stack when an exception is being caught - CodeProject_files/t(2).gif" border="0" width="1px" height="5px" alt=""></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="forum-footer">
<td>Last Visit: 12:22 18 Nov '11  &nbsp; &nbsp; Last Update: 13:38 18 Nov '11 </td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/KB/exception/StackTracer.aspx?fid=1548571&amp;fr=5"><b>1</b></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table>
</div><p class="small-text"><img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_general.gif" width="16px" height="16px" alt="General"> General &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_news.gif" width="16px" height="16px" alt="News"> News &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_idea.gif" width="16px" height="16px" alt="Suggestion"> Suggestion &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_question.gif" width="16px" height="16px" alt="Question"> Question &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_bug.gif" width="16px" height="16px" alt="Bug"> Bug &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_answer.gif" width="16px" height="16px" alt="Answer"> Answer &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_joke.gif" width="16px" height="16px" alt="Joke"> Joke &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_rant.gif" width="16px" height="16px" alt="Rant"> Rant &nbsp;&nbsp; <img align="top" src="./Get the call stack when an exception is being caught - CodeProject_files/msg_admin.gif" width="16px" height="16px" alt="Admin"> Admin &nbsp;&nbsp; </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>

					
					<div class="theme1-background" style="height:2px"></div>

					<div class="extended tiny-text">
						<div class="row">
							<div class="float-left">
								<a id="ctl00_PermaLink" href="./Get the call stack when an exception is being caught - CodeProject_files/Get the call stack when an exception is being caught - CodeProject.htm">Permalink</a> | 
								<a id="ctl00_AdvertiseLink" href="http://lakequincy.com/">Advertise </a> |
								<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
								<a id="ctl00_Mobile" rel="nofollow" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?display=Mobile">Mobile</a>
								<br>
								
								Web04 |
								2.5.111110.1 |
								Last Updated 31 Aug 2009								
							</div>
							<div class="float-right align-right">
								Article Copyright 2009 by Baiyan Huang<br>Everything else
								Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2011 <br>
								<a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a>
							</div>

							


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="http://www.codeproject.com/KB/exception/StackTracer.aspx?PageFlow=Fluid">fluid</a>
</div>



						</div>
					</div>
					

				<br clear="all">
		
				
				</div>

				<div id="ctl00_ContentSide" class="text-sidebar">
					<script type="text/javascript">document.write(unescape('%0d%0a%0d%0a%3cdiv class%3d%22results%22%3e%0d%0a%0d%0a%09%3cdiv class%3d%22container-adwords%22%3e%0d%0a%09%09%3ca id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Link%22 href%3d%22%2fscript%2fCatalog%2fRedir.aspx%3fctid%3d1389%26amp%3bcttype%3d2%22 target%3d%22_blank%22%3e%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Title%22 class%3d%22title%22%3eMX-Frame%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Teaser%22 class%3d%22desc%22%3eBusiness Application Framework%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Url%22 class%3d%22link%22%3ewww.mxframe.net%3c%2fspan%3e%3c%2fa%3e%0d%0a%09%3c%2fdiv%3e%0d%0a%0d%0a%09%3cdiv class%3d%22container-adwords%22%3e%0d%0a%09%09%3ca id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Link%22 href%3d%22%2fscript%2fCatalog%2fRedir.aspx%3fctid%3d1403%26amp%3bcttype%3d2%22 target%3d%22_blank%22%3e%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Title%22 class%3d%22title%22%3eSearch for ASP.NET%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Teaser%22 class%3d%22desc%22%3eAdd search engine functionality to your ASP.NET web site. Features...%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Url%22 class%3d%22link%22%3ekeyoti.com%3c%2fspan%3e%3c%2fa%3e%0d%0a%09%3c%2fdiv%3e%0d%0a%0d%0a%3c%2fdiv%3e%0d%0a'));</script>

<div class="results">

	<div class="container-adwords">
		<a id="ctl00_RelatedAds_RelatedResults_ctl01_Link" href="http://www.codeproject.com/script/Catalog/Redir.aspx?ctid=1389&cttype=2" target="_blank"><span id="ctl00_RelatedAds_RelatedResults_ctl01_Title" class="title">MX-Frame</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl01_Teaser" class="desc">Business Application Framework</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl01_Url" class="link">www.mxframe.net</span></a>
	</div>

	<div class="container-adwords">
		<a id="ctl00_RelatedAds_RelatedResults_ctl02_Link" href="http://www.codeproject.com/script/Catalog/Redir.aspx?ctid=1403&cttype=2" target="_blank"><span id="ctl00_RelatedAds_RelatedResults_ctl02_Title" class="title">Search for ASP.NET</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl02_Teaser" class="desc">Add search engine functionality to your ASP.NET web site. Features...</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl02_Url" class="link">keyoti.com</span></a>
	</div>

</div>


					

					

					<div style="width:160px;margin: 10px 0;">
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="160x600" lqm_country="CN" lqm_tags="VC6,VC7,VC7.1,VC8.0,Windows,Win32,Win64,Dev,QA,Beginner"><iframe id="lqmad4" width="160" height="600" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
					</div>

					
	<div class="announce">
	<div id="ctl00_RelatedArticles_RelatedResults_ctl00_header" class="announce-header">See Also...</div>
	<div class="announce-content">	
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl01_Link" class="title" href="http://www.codeproject.com/KB/showcase/dundas_chartani.aspx">Creating animations with Dundas Chart for ASP.NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl02_Link" class="title" href="http://www.codeproject.com/KB/showcase/dundas_smartlabels.aspx">Smarter Data Labels with Dundas Chart SmartLabels</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl03_Link" class="title" href="http://www.codeproject.com/KB/showcase/Dundas_chartareas.aspx">Understanding Chart Areas with Dundas Chart for .NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl04_Link" class="title" href="http://www.codeproject.com/KB/showcase/DundasMap_AJAX.aspx">Making Sense of Geographic Data with Dundas Map and AJAX</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl05_Link" class="title" href="http://www.codeproject.com/KB/vbscript/gopal_code.aspx">DestroyWindow in VBScript</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl06_Link" class="title" href="http://www.codeproject.com/KB/vb/SmarLink.aspx">SmartLink</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl07_Link" class="title" href="http://www.codeproject.com/KB/showcase/HeraAppFramework.aspx">Create data-driven applications with the Hera Application Framework</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl08_Link" class="title" href="http://www.codeproject.com/KB/showcase/RedGate_SelfDocDatabase.aspx">Towards the self-documenting database: extended properties</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl09_Link" class="title" href="http://www.codeproject.com/KB/showcase/digitalsignatures.aspx">Digital Signatures and PDF Documents</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl10_Link" class="title" href="http://www.codeproject.com/KB/database/Windows_Mobile_Db_Images.aspx">Reading and Writing Images From a Windows Mobile Database using UltraLite 10 (C#)</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl11_Link" class="title" href="http://www.codeproject.com/KB/vb/Windows_Media_Player_COM.aspx">WMP Power Hour APP</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl12_Link" class="title" href="http://www.codeproject.com/KB/aspnet/MergeLandscape.aspx">Merge Landscape and Portrait PDFs using ASP.NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl13_Link" class="title" href="http://www.codeproject.com/KB/showcase/barcodes_in_docs.aspx">Using Barcodes in Documents – Best Practices</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl14_Link" class="title" href="http://www.codeproject.com/KB/winsdk/HowToRetrieve.aspx">How to Retrieve EMC Centera Cluster/Pool Capabilities</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl15_Link" class="title" href="http://www.codeproject.com/KB/winsdk/RightKeyboard.aspx">Using multiple keyboards with different layouts on the same machine</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl16_Link" class="title" href="http://www.codeproject.com/KB/showcase/dotimage_toolkit.aspx">"Hey! Is That My Car? How to Sharpen a QuickBird Satellite Image Using DotImage"</a>
		
	</div>
	
	</div>
	</div>
	


					

					
<div class="announce">
<div class="announce-header">The Daily Insider</div>
<div class="announce-content">

<div><a id="ctl00_News_News_ctl01_Link" href="http://citizen428.net/archives/434">30 free programming books</a></div>

Daily News: <a id="ctl00_News_News_ctl02_Subscribe" href="http://www.codeproject.com/Feature/Insider/">Signup now</a>.
</div>
</div>
		

				</div>

			</div>
			

		</div>
		

	</div>
</div>


<div style="display:none;" id="lqm_AdTable">
	
</div>

<script type="text/javascript" language="Javascript" src="./Get the call stack when an exception is being caught - CodeProject_files/jquery.min.js"></script><script type="text/javascript">//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript" src="./Get the call stack when an exception is being caught - CodeProject_files/article.min.js"></script>
<script type="text/javascript" language="Javascript" src="./Get the call stack when an exception is being caught - CodeProject_files/m.min.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
function markAllText(){
 markTextInElement('c++','contentdiv');
 markTextInElement('exception','contentdiv');
}
$(function(){markAllText()});
var socialLinks = new social();
socialLinks.PlaceholderId="ATD";socialLinks.ObjectId=41923;
socialLinks.ObjectTypeId=2;
socialLinks.addtoMethod=1;
socialLinks.Horizontal=false;
socialLinks.Showname=true;
socialLinks.setupLinks("socialLinks", escape(document.location.href),escape(document.title), 100, 0, "small-text Bold", "AddTo");
socialLinks.setupMenu();
$(document).ready(function() {   $('.alert-bar').slideDown('fast');   $('.alert-bar a.close-notify').click(function() {      $('.alert-bar').slideUp('fast');        return false;    });});
if($.LqmAds)$.LqmAds();
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 InitWatermark('sb_tb', 'Search');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide();
  sbar.blur(function() { if (!oSrchFlt)sfilter.hide();srchBoxFoc=false; });
  sbar.focus(function() { oSrchFlt=false;srchBoxFoc=true;sfilter.show(); });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox)sfilter.hide();});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
$(document).ready(function() { anchorAnimate(); });
$("#ctl00_RateArticle_RateItemWrapper").removeClass("container-rating");$('#clear-rate_ctl00_RateArticle_RCD').click(function () { $('#ctl00_RateArticle_RCD').hide(); return false;});
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(41923,2,1,true,true,3);
}
function ChkRtctl00_RateArticle(val, objId) {if (val<=3||true) {
$('div[name=RateItem_' + objId + '] .rating-comment').css("display","");}
else $('div[name=RateItem_' + objId + '] .rating-comment').css("display","none");}


//]]>
</script>



<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script>



<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas></body><embed type="application/x-cooliris-page" hidden="true" id="coolirisBridge"></html>