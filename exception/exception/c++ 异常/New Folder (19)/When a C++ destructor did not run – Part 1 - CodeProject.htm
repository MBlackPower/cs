<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0093)http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>When a C++ destructor did not run – Part 1 - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="./When a C++ destructor did not run – Part 1 - CodeProject_files/CodeProject.min.css">

	


<meta name="Description" content="Consider this piece of C++ code.             1: using namespace std;       2:         3: class C       4: {       5: public:       6:     C()        7:     {        8:         cout &lt;&lt; &quot;Constructed&quot;;        9:     }      10:     ~C()       11:     {       12:    ; Author: S. Senthil Kumar; Updated: 4 Dec 2009; Section: Uncategorised Technical Blogs; Chapter: General Reading; Updated: 4 Dec 2009">
<meta name="Keywords" content="All-Topics,Uncategorised Technical Blogs,General Reading,Free source code, tutorials">
<meta name="Author" content="S. Senthil Kumar">
<meta name="Rating" content="General">
<meta name="Robots" content="index, follow, NOODP">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="The Code Project">
<meta name="google-site-verification" content="RP2bNCUeOmNkkJesEnU8X3UyTbqIcCKP0CmdwU8in5k">

<link rel="dns-prefetch" href="http://ajax.googleapis.com/"> 

<link rel="canonical" href="./When a C++ destructor did not run – Part 1 - CodeProject_files/When a C++ destructor did not run – Part 1 - CodeProject.htm">

<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - MFC/C++" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - VB.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=6">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Mobile" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=18">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - ASP.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=4">

<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">

	<!--<base target="_top">--><base href="." target="_top">
	<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="apple-touch-icon" href="http://www.codeproject.com/images/FavIcon-Apple.png" type="image/png">
<script type="text/javascript" language="Javascript">//<![CDATA[
if(top!=self)top.location.href=location.href; if(typeof(DemoUrl)!="undefined")document.write(unescape('%3Cme')+'ta http'+'-equiv="re' +'fresh" con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
function SelfCheck(){ return window.confirm("You are about to reply to your own message. Is this really what you want?");}
function MarkAns(MemberID,MsgID,gp,bp,mt,QID){
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\"  onclick=\"RateMsg("+MemberID.toString()+","+MsgID.toString()+",6,"+QID.toString()+");\"%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"good\" border=\"0\" align=\"absmiddle\" /%3E "+gp+" "+mt+"%3C/a%3E "));
 document.write(" &nbsp;"); document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\"  onclick=\"RateMsg("+MemberID.toString()+","+MsgID.toString()+",7,"+QID.toString()+");\"%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"bad\" border=\"0\" align=\"absmiddle\" /%3E "+bp+" "+mt+"%3C/a%3E"));
}

function MsgVFrm(MemberID,MsgID,GB,gp,bp,mt){
 if(!GB)document.write("Rate this message: ");
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"5":"1")+unescape(",0);\"%3E"));
 if(GB) document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"good\" border=\"0\" align=\"absmiddle\" /%3E "+gp+" "+mt+"%3C/a%3E "));
 else document.write(unescape("%3Cimg height=\"14px\" width=\"14px\" src=\"http://s.codeproject.com/script/Forums/Images/thumbs_down.gif\" alt=\"vote 1\" border=\"0\" align=\"middle\" /%3E%3C/a%3E "));
 if(GB)document.write(" &nbsp;"); else for(var i=1; i<=5;i++)
  document.write(unescape("%3Ca class=\"toolbar\" href=\"#xx" + MsgID.toString() + "xx\" title=\"vote this message a " + i.toString() + "\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ", " + i.toString() + ",0)\"%3E%3Cb%3E" + i.toString() + "%3C/b%3E%3C/a%3E "));
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"1":"5")+unescape(",0);\"%3E"));
 if(GB)document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"bad\" border=\"0\" align=\"absmiddle\" /%3E "+bp+" "+mt+"%3C/a%3E"));
 else document.write(unescape("%3Cimg height=\"14px\" width=\"14px\" src=\"http://s.codeproject.com/script/Forums/Images/thumbs_up.gif\" border=\"0\" alt=\"vote 5\" align=\"middle\" /%3E%3C/a%3E "));
}

function ReportMsg(userid, msgid, score) {
 if (confirm("Are you sure you want this message removed?"))
  return RateMsg(userid, msgid, score, 0);
 else return false;
}
function RateMsg(memberid, msgid, score, questionId) {
 var req = new XMLHttpRequest();
 req.onreadystatechange = function() {
  if (req.readyState == 4){
   if (req.status == 200){
    var respText = req.responseText;
    var re = new RegExp(unescape("\%3Cdiv\%3E(.*)\%3C/div\%3E"), "g");
    var match = re.exec(respText);
    voteStatus.innerHTML = unescape("%3Cb%3E") + (match&&match.length>1&&match[1])?match[1]:"An error occured" + unescape("%3C/b%3E");
   } else
    voteStatus.innerHTML = unescape("%3Cb style='color:red'%3EFailed!") + req.statusText + unescape("%3C/b%3E");
  }
 }
 var voteStatus = document.getElementById("MVF" + msgid);
 if (!voteStatus) return;
 voteStatus.innerHTML = unescape("%3Cb style='color:green'%3EVoting...%3C/b%3E");
 var strAction = "/script/Forums/Vote.aspx?js=1&fmid="+memberid.toString()+"&select="+msgid.toString()+"&score="+score.toString()+"&qid="+questionId.toString();
 req.open("GET", strAction, true);
 req.send(null);
  return false;
}

//]]>
</script>

<script type="text/javascript" async="" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/ga.js"></script><script type="text/javascript" src="chrome-extension://bfbmjmiodbnnpllbbbfblcplfjjepjdn/js/injected.js"></script></head>	

<body class="chrome chrome15">




<a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#Main"><img alt="Click here to Skip to main content" class="access-link" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t.gif"></a>


<div class="page-background">
	<div id="A" class="container-content">

		
		

		

		
		

<div class="container nav-memberbar clearfix">
<div class="member-stats float-left">8,258,830 members and growing! (38,142 online)</div>
<div class="float-left"></div>
<div class="float-right">
<span id="ctl00_MemberMenu_CurRat" class="tooltip">
		<a id="ctl00_MemberMenu_MyProfile" href="http://www.codeproject.com/script/Membership/View.aspx?mid=6590118">sunyongjie1984</a><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/arrow-down-16.png" style="width:16px;height:16px;vertical-align:bottom">
		<div class="tooltip-flyout" style="width:110px !important">
			<div><a id="ctl00_MemberMenu_MySettingsNonSSL" href="http://www.codeproject.com/script/Membership/Modify.aspx">My Settings</a></div>
			<div><a id="ctl00_MemberMenu_MySettings" href="https://www.codeproject.com/script/Membership/Modify.aspx"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/secure.png" width="13px" height="14px" style="vertical-align:middle;border:0">My Settings (SSL)</a></div>
			<div><a id="ctl00_MemberMenu_MyContacts" href="http://www.codeproject.com/script/Membership/ListContacts.aspx">My Contact info</a></div>
			<div><a id="ctl00_MemberMenu_MyBookmarks" href="http://www.codeproject.com/script/Bookmarks/List.aspx?obtid=2">My Bookmarks</a></div>
			
			<div><a id="ctl00_MemberMenu_MyCodeProject" href="http://www.codeproject.com/script/Membership/MyCodeProject.aspx">My Watched Items</a></div>
			<div><a id="ctl00_MemberMenu_MyArticles" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=6590118">My Articles</a></div>
			<div><a id="ctl00_MemberMenu_MyMessages" href="http://www.codeproject.com/script/Forums/Messages.aspx?fmid=6590118">My Messages</a></div>
			<div><a id="ctl00_MemberMenu_MyQuestions" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=questions&mid=6590118&showall=True">My Questions</a></div>
			<div><a id="ctl00_MemberMenu_MyAnswers" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=answers&mid=6590118&showall=True">My Answers</a></div>
			
		</div>
	</span><span id="ctl00_MemberMenu_TotalPoints" title="Total reputation points 178" class="member-rep-box bronze" style="margin-left:0"><a href="http://www.codeproject.com/script/Reputation/List.aspx?mid=6590118">178</a></span>
	&nbsp;
	<a id="ctl00_MemberMenu_Signout" href="http://www.codeproject.com/script/Membership/LogOff.aspx?rp=%2fArticles%2f46136%2fWhen-a-Cplusplus-destructor-did-not-run-Part-1.aspx">Sign out</a>


</div>

</div>
		

		
		<table width="100%" cellspacing="0" cellpadding="0" border="0">
		<tbody><tr>
			<td class="header"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" title="The Code Project" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/logo225x90.gif" alt="Home" style="border-width:0px;"></a></td>
			<td class="header" align="right">
				<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="728x90" lqm_country="CN" lqm_tags="All-Topics"><iframe id="lqmad1" width="728" height="90" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
			</td>
		</tr></tbody></table>

		<table cellpadding="0" cellspacing="0" class="contrast1-background extended"><tbody><tr><td nowrap="nowrap">
			

<div class="navbar clearfix">
<ul id="nav">

<li><a id="ctl00_TopNavBar_Home" class="down" href="http://www.codeproject.com/">Home</a>


</li><li><a id="ctl00_TopNavBar_Art" class="down selected" href="http://www.codeproject.com/script/Articles/Latest.aspx">Articles</a>

	<ul>
		<li><a id="ctl00_TopNavBar_ArtTopicList" class="fly last" onmouseover="ShowMap(this, &#39;siteMap&#39;);" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Chapters and Sections</a><ul id="ctl00_TopNavBar_MapFlyout"><li>
				<div id="siteMap" class="tooltip-flyout">
					<img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/animated.gif" style="margin:150px;width:100px;height:100px;">
				</div>
			</li></ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="http://www.codeproject.com/search.aspx">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=6,8">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="http://www.codeproject.com/search.aspx?aidlst=152&sa_us=True">Beginner Articles</a></li>
		<li id="ctl00_TopNavBar_VideosLink">
			<a id="ctl00_TopNavBar_ArtVideoArticles" class="fly" href="http://www.codeproject.com/script/Articles/VideoArticleList.aspx">Video Articles</a>
		</li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="http://www.codeproject.com/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly" href="http://www.codeproject.com/script/Articles/Submit.aspx">Post an Article</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostTipTrick" class="fly" href="http://www.codeproject.com/Tips/post.aspx">Post Tip &amp; Trick</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly break" href="http://www.codeproject.com/script/Articles/BlogFeed.aspx">Post your Blog</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="http://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly last" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
	</ul>

</li>



<li><a id="ctl00_TopNavBar_Answers" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">Quick Answers</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#_comments">Ask a Question about this article</a></li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly" href="http://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=78" style="padding-left:30px">C++ questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=308" style="padding-left:30px">C#4.0 questions</a></li>
			
	</ul>

</li>



<li><a id="ctl00_TopNavBar_Forums" href="http://www.codeproject.com/script/Forums/List.aspx">Discussions</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="http://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3304/Work-Training-Issues.aspx">Work &amp; Training Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1725/Database.aspx">Database</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1653293/NET-4-5-and-Visual-Studio-11.aspx">.NET 4.5 and Visual Studio 11</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1540733/Sharepoint.aspx">Sharepoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1640/Web-Development.aspx">Web Development<span class="fly-menu">&gt;</span></a>
<ul><li><a class="fly" href="http://www.codeproject.com/Forums/12076/ASP-NET.aspx">ASP.NET</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1580227/CSS.aspx">CSS</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1580226/JavaScript.aspx">JavaScript</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1213656/PHP.aspx">PHP</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1645/Site-Bugs-Suggestions.aspx">Site Bugs / Suggestions</a>
</li>

		<li class="heading">Other Languages<span class="fly-menu">&gt;</span>
		<ul>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		</li>
		
	</ul>

</li>

<li><a id="ctl00_TopNavBar_Zones" href="http://www.codeproject.com/Zones/index.aspx">Learning Zones</a>

	<ul>
		<!--<li class="heading">Zones</li>-->
		<li><a href="http://www.codeproject.com/Zones/Commerce/" class="fly">The Commerce Zone</a></li><li><a href="http://www.codeproject.com/Zones/Mobile/" class="fly">The Mobile Zone</a></li><li><a href="http://www.codeproject.com/Zones/Cloud/" class="fly">The Cloud Zone</a></li><li><a href="http://www.codeproject.com/Zones/Hardware/" class="fly">The Hardware Zone</a></li><li><a href="http://www.codeproject.com/Zones/Parallelism/" class="fly">The Parallelism Zone</a></li><li><a href="http://www.codeproject.com/Zones/WPF-Silverlight/" class="fly">The WPF / Silverlight Zone</a></li><li><a href="http://www.codeproject.com/Zones/Flex-Flash/" class="fly">The Flex / Flash Zone</a></li><li><a href="http://www.codeproject.com/Zones/HTML-CSS/" class="fly">The HTML5 / CSS3 Zone</a></li><li><a href="http://www.codeproject.com/Zones/SqlServer/" class="fly">The SQL Zone</a></li><li><a href="http://www.codeproject.com/Zones/WhitePapers/" class="fly break">WhitePapers / Webcasts</a></li>
		<li><a id="ctl00_TopNavBar_Solutions" class="fly last" href="http://www.codeproject.com/KB/solution-center/">Solutions Center</a></li>
	</ul>

</li>










<li><a id="ctl00_TopNavBar_Features" href="http://www.codeproject.com/Feature/">Features</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="http://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly" href="http://www.codeproject.com/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		<li><a id="ctl00_TopNavBar_Companies" class="fly break" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mgtid=1&mgm=True">Company Listings</a></li>
		<li><a id="ctl00_TopNavBar_Catalog" class="fly" href="http://www.codeproject.com/script/Catalog/List.aspx">Component &amp; Service Catalog</a></li>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="http://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_TechSummit" class="fly" href="http://www.codeproject.com/TechSummit/">Tech Summits</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="http://www.codeproject.com/Feature/Insider/">Daily Insider</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="http://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_PressRelease" class="fly" href="http://www.codeproject.com/script/PressReleases/Preview.aspx">Press Releases</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="http://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="http://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li><a id="ctl00_TopNavBar_AddIn" class="fly last" href="http://www.codeproject.com/Services/Addins/">The Code Project VS 2008 add-in</a></li>
	</ul>

</li>


<li><a id="ctl00_TopNavBar_Help" href="http://www.codeproject.com/KB/FAQs/">Help!</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="http://www.codeproject.com/info/guide.aspx">What is 'The Code Project'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly" href="http://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly" href="http://www.codeproject.com/Questions/ask.aspx">Post a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="http://www.codeproject.com/Forums/1645/Site-Bugs-Suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Site Directory</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://lakequincy.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly last" href="http://www.codeproject.com/info/about.aspx">About Us</a></li>
	</ul>

</li>


<li style="margin-left:10px">
<a id="ctl00_TopNavBar_Lounge" class="simple" href="http://www.codeproject.com/Lounge.aspx">The Lounge</a>

	<ul>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="http://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly" href="http://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_CleverLnk" class="fly" href="http://www.codeproject.com/feature/CleverCode.aspx">Clever Code</a></li>
		<li><a id="ctl00_TopNavBar_ShameLnk" class="fly" href="http://www.codeproject.com/feature/HallOfSHame.aspx">Hall of Shame</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="http://www.codeproject.com/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
	</ul>

</li>

</ul>

</div>

<script type="text/javascript">

function ShowMap(prnt, elmId) {
	var map = $('#' + elmId);
	
	if (!prnt.populated && !prnt.populating) {
		prnt.populating = true;
		map.css( { 'height': '400px', 'width': '400px' });
		map.load("/script/content/ajax/SiteMap.aspx", function() { prnt.populated = true; });
		prnt.populated = true;
		prnt.populating = false;
	}

	if (prnt.populated) {
		var left = Math.max(map.parent().offset().left, 200);
		var top = Math.max(map.parent().offset().top, 0);
		var width = Math.min((($(window).width()-left) * 0.9), 1000);
		var height = Math.min((($(window).height()-top) * 0.9), 700);
		map.css('width', width + 'px');
		map.css('height', height + 'px');
		map.css('overflow', 'auto');
		map.css('margin', '0');
	}
}

</script>
		</td><td align="right">
			

<div class="search-bar">

<form method="get" action="http://www.codeproject.com/search.aspx" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tbody><tr><td><input tabindex="2" class="search  subdue" id="sb_tb" value="" name="q"></td><td><input type="image" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/search.gif"></td></tr></tbody></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced small-text align-left" style="display: none; ">
	<b>Search within:<br></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="true"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>
<input type="radio" id="sb_ctlk" name="sbo" value="ctlk"><label for="sb_ctlk">Product Catalog</label><br>


		
		
	</div>
</div>
</form>

</div>
		</td></tr></tbody></table>
		

		
		<div class="container-article hreview-aggregate">
		
			
			<div class="container-header">
				<div id="ctl00_Header" class="header">

					<a name="Main"></a>

					
					<a name="_articleTop" id="_articleTop"></a>
					

<div class="clearfix hover-container">

	<div class="container">
		
		<div class="breadcrumb float-left"><a href="http://www.codeproject.com/script/Content/SiteMap.aspx"><span class="sitemap-anchor" onmouseover="ShowMap(this,&#39;map&#39;);"><img width="16px" height="16px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/sitemap16.png" border="0" alt="Site map" style="vertical-align:middle"><div id="map" class="tooltip-flyout"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/animated.gif" style="margin:150px;width:100px;height:100px;border:0;"></div></span></a> » <a href="http://www.codeproject.com/Chapters/7/General-Reading.aspx">General Reading</a> » <a href="http://www.codeproject.com/KB/Blogs/">Uncategorised Technical Blogs</a> » <a href="http://www.codeproject.com/KB/Blogs/#General">General</a></div>
	</div>

	
	<div id="ctl00_TitleArea_InfoArea" class="float-right">
		

<div class="infobox">
	<table class="tight small-text" cellpadding="0" cellspacing="1">
	<tbody><tr><td>Licence&nbsp;</td><td><a href="http://www.codeproject.com/info/cpol10.aspx" title="The Code Project Open License (CPOL)">CPOL</a></td></tr>
	
	<tr><td>First Posted&nbsp;</td><td nowrap="nowrap"><b>4 Dec 2009</b></td></tr>
	<tr><td>Views&nbsp;</td><td><b>3,640</b></td></tr>
		
	
	<tr><td>Bookmarked&nbsp;</td><td><b>2 times</b></td></tr>
	

	
	
	</tbody></table>
</div>	
	</div>

	
	<div class="item">
	<h1 id="ctl00_TitleArea_ArticleTitle" class="fn">When a C++ destructor did not run – Part 1</h1>
	</div>

	
	<div class="author">
		By <b><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=492196">S. Senthil Kumar</a></b> | 
		4 Dec 2009 
		
		| <a id="ctl00_TitleArea_ArticleInfoLink" href="http://www.codeproject.com/KB/FAQs/BlogFAQ.aspx">Technical Blog</a>

		
		
	</div>
	
	<div class="tags">
	<span id="ctl00_TitleArea_TagsList_TagWrp" class="tags">
	
	
	
	<span id="ctl00_TitleArea_TagsList_VisibleTags"><span class="t"><a href="http://www.codeproject.com/search.aspx?aidlst=301">All-Topics</a></span></span> 

	
	
</span>

	</div>

	
	<div class="abstract summary"><span id="ctl00_TitleArea_ArticleDescr">Consider this piece of C++ code.             1: using namespace std;       2:&nbsp;        3: class C       4: {       5: public:       6:     C()        7:     {        8:         cout &lt;&lt; "Constructed";        9:     }      10:     ~C()       11:     {       12:    </span></div>
</div>



					

				</div>

				<div id="ctl00_HeadSide" class="header-sidebar">
					<div class="align-left" style="height:24px">
						


&nbsp;










					</div>

					

<div class="bold pad-top">See Also</div>
<ul class="outdent small-text" style="margin-left:5px">
	<li><a id="ctl00_SeeAlso_LikeThis" href="http://www.codeproject.com/search.aspx?q=When+a+C%2b%2b+destructor+did+not+run++Part+1">More like this</a></li>
	<li><a id="ctl00_SeeAlso_ByAuthor" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=492196">More by this author</a></li>
</ul>

				</div>

			</div>
			

			
			<div id="ctl00_Nav" class="container-nav">
				<div id="ctl00_TabContainer" class="tabs-container clearfix">

					
					<div class="float-right action-links"> 
						<a id="ctl00_ActionLinks_PrintLnk" class="tooltip" href="http://www.codeproject.com/Articles/46136/When-a-C-destructor-did-not-run-Part-1?display=Print">
	<img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/print.gif" width="24px" height="24px" style="vertical-align:middle;border:0">
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Print Article</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</a>

<span id="SBI"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/share_drop24.png" id="ctl00_ActionLinks_AddTo_Img" width="37" height="24" alt="add" style="vertical-align:middle">
</span>
<div id="ATD" class="list-socialbookmark" style="left: 618px; top: 209px; "><div><a class="AddTo" title="Add this page to Twitter" onclick="return socialLinks.addto(0);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Twitter.gif" width="16px" height="16px" border="0"> Twitter</a> </div><div><a class="AddTo" title="Add this page to Digg" onclick="return socialLinks.addto(1);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Digg.png" width="16px" height="16px" border="0"> Digg</a> </div><div><a class="AddTo" title="Add this page to Facebook" onclick="return socialLinks.addto(2);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Facebook.png" width="16px" height="16px" border="0"> Facebook</a> </div><div><a class="AddTo" title="Add this page to Del.icio.us" onclick="return socialLinks.addto(3);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Delicious.png" width="16px" height="16px" border="0"> Del.icio.us</a> </div><div><a class="AddTo" title="Add this page to Reddit" onclick="return socialLinks.addto(4);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Reddit.png" width="16px" height="16px" border="0"> Reddit</a> </div><div><a class="AddTo" title="Add this page to Stumbleupon" onclick="return socialLinks.addto(5);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_stumbleupon.png" width="16px" height="16px" border="0"> Stumbleupon</a> </div><div><a class="AddTo" title="Add this page to Newsvine" onclick="return socialLinks.addto(6);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Newsvine.png" width="16px" height="16px" border="0"> Newsvine</a> </div><div><a class="AddTo" title="Add this page to Technorati" onclick="return socialLinks.addto(7);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Technorati.png" width="16px" height="16px" border="0"> Technorati</a> </div><div><a class="AddTo" title="Add this page to Mr. Wong" onclick="return socialLinks.addto(8);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_MrWong.png" width="16px" height="16px" border="0"> Mr. Wong</a> </div><div><a class="AddTo" title="Add this page to Yahoo!" onclick="return socialLinks.addto(9);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Yahoo.png" width="16px" height="16px" border="0"> Yahoo!</a> </div><div><a class="AddTo" title="Add this page to Google" onclick="return socialLinks.addto(10);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Google.png" width="16px" height="16px" border="0"> Google</a> </div><div><a class="AddTo" title="Add this page to Windows Live" onclick="return socialLinks.addto(11);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/AddTo_Live.png" width="16px" height="16px" border="0"> Windows Live</a> </div><div><a class="AddTo" title="Send as Email" onclick="return socialLinks.addto(12);" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#"><img align="absmiddle" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/envelope.gif" width="16px" height="16px" border="0"> Send as Email</a> </div></div> 
 

<span class="tooltip">
	<a id="ctl00_ActionLinks_ArticleBmk_ImgBt" title="Bookmark" alternatetext="Bookmark" name="bm_46136_2" onclick="return bookmarkMe(46136,2,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=46136&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&#39;,true);" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=46136&obtid=2&action=AddBookmark&bio=true" style="display:inline-block;height:24px;width:24px;vertical-align:middle;border:0"><img title="Bookmark" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/bookmark.png" alt="" style="border-width:0px;"></a>


<span id="ctl00_ActionLinks_ArticleBmk_StatusMsg" class="tiny-text" style="display:none" name="bm_46136_2"></span>
 
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Add to your CodeProject bookmarks</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</span>

<a id="discussAnch" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#_comments" class="tooltip anchorLink">
	
	<img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/discuss.gif" width="24px" height="24px" alt="Discuss" style="vertical-align:middle;border:0">
	<div class="speech-bubble-container-up">
		<div class="speech-bubble-up">Discuss this article</div>
		<div class="speech-bubble-pointer-up">
			<div class="speech-bubble-pointer-up-inner"></div>
		</div>
	</div>
</a>
<span id="ctl00_ActionLinks_cmtcnt" class="subdue small-text align-middle" style="margin-left:-4px">2</span>





					</div>

					<div class="float-left">
						
						

<div class="tabs float-left"><table cellpadding="0" cellspacing="0"><tbody><tr>
	<td class="tab-selected">Article</td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=46136">Browse Code</a></td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/Statistics.aspx?aid=46136">Stats</a></td><td class="tab-unselected"><a href="http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=46136">Revisions (2)</a></td>
</tr></tbody></table></div>	


						
						<div class="float-left" style="margin-left:15px">
							<div id="ctl00_CurRat" class="tooltip" name="CurRat_46136">
								

<table cellpadding="0" cellspacing="0" class="small-text">
<tbody><tr>
	
	<td class="nowrap">

		<span id="ctl00_ArticleRating_VI">
		<div class="rating-stars">
	<img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/stars-empty.png" width="120" height="24">
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;<span id="ctl00_ArticleRating_VotesR">&nbsp;<span class="rating">0.00</span> <span class="count">(0 votes)</span></span>
		
	</td>

</tr>

</tbody></table>

								
							</div>
						</div>

					</div>

				</div>

				<div id="ctl00_HeadSideFoot" class="tabs-sidebar">
					<div>Sponsored Links</div>
				</div>
			</div>
			

			
			<div class="container-text">

				<div id="AT" class="text">
					
					
					
					

					   

						
							
			
					<div id="ctl00_BlogRow" class="small-text source">
						<b>A Technical Blog article</b>. 
						<a id="ctl00_BlogSrcLnk" href="http://msmvps.com/blogs/senthil/archive/2009/12/04/when-a-c-destructor-did-not-run-part-1.aspx">View entire blog here.</a>[<a id="ctl00_BlogSrcExt" href="http://msmvps.com/blogs/senthil/archive/2009/12/04/when-a-c-destructor-did-not-run-part-1.aspx" target="_blank">^</a>]
					</div><form name="aspnetForm" method="post" action="./When a C++ destructor did not run – Part 1 - CodeProject_files/When a C++ destructor did not run – Part 1 - CodeProject.htm" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMjExOTQzNjk4Mw9kFgJmD2QWAgIGD2QWCAIRD2QWAgIBD2QWBmYPDxYCHgtOYXZpZ2F0ZVVybAUyL3NjcmlwdC9BcnRpY2xlcy9BZG1pbi9FZGl0b3JDaG9pY2UuYXNweD9haWQ9NDYxMzZkZAICDw8WAh8ABTgvc2NyaXB0L0F3YXJkcy9BZG1pbi9Bd2FyZE9iamVjdC5hc3B4P29iaWQ9NDYxMzYmb2J0aWQ9MmRkAgoPDxYCHwAFLy9zY3JpcHQvQXJ0aWNsZXMvQWRtaW4vUXVldWVFZGl0LmFzcHg/YWlkPTQ2MTM2ZGQCEw9kFgICAQ9kFgICAQ9kFgZmDw8WAh8ABUQvQXJ0aWNsZXMvNDYxMzYvV2hlbi1hLUMtZGVzdHJ1Y3Rvci1kaWQtbm90LXJ1bi1QYXJ0LTE/ZGlzcGxheT1QcmludGRkAgQPFgIeCWlubmVyaHRtbAUBMmQCBQ8PFgIfAAUmL3NjcmlwdC9BcnRpY2xlcy9SZXBvcnQuYXNweD9haWQ9NDYxMzZkZAIVD2QWAgIND2QWCGYPFgIeB1Zpc2libGVnFgQCAQ8PFgQfAAVeaHR0cDovL21zbXZwcy5jb20vYmxvZ3Mvc2VudGhpbC9hcmNoaXZlLzIwMDkvMTIvMDQvd2hlbi1hLWMtZGVzdHJ1Y3Rvci1kaWQtbm90LXJ1bi1wYXJ0LTEuYXNweB8CZ2RkAgMPDxYEHwAFXmh0dHA6Ly9tc212cHMuY29tL2Jsb2dzL3NlbnRoaWwvYXJjaGl2ZS8yMDA5LzEyLzA0L3doZW4tYS1jLWRlc3RydWN0b3ItZGlkLW5vdC1ydW4tcGFydC0xLmFzcHgfAmdkZAICDxYCHgZhY3Rpb24FQy9BcnRpY2xlcy80NjEzNi9XaGVuLWEtQ3BsdXNwbHVzLWRlc3RydWN0b3ItZGlkLW5vdC1ydW4tUGFydC0xLmFzcHgWCAIBD2QWAgIBDxYCHwJoZAIDD2QWAgICD2QWAgIBDxBkZBYAZAILDxYCHgtfIUl0ZW1Db3VudAIBZAIND2QWAgIBDxYCHgRUZXh0BWo8YSAgaHJlZj0iL0FydGljbGVzLzQ2MTM2L1doZW4tYS1DcGx1c3BsdXMtZGVzdHJ1Y3Rvci1kaWQtbm90LXJ1bi1QYXJ0LTEuYXNweCNfYXJ0aWNsZVRvcCI+QXJ0aWNsZSBUb3A8L2E+ZAIJDw8WBB8FBQlQZXJtYWxpbmsfAAU2L0FydGljbGVzLzQ2MTM2L1doZW4tYS1DLWRlc3RydWN0b3ItZGlkLW5vdC1ydW4tUGFydC0xZGQCGA8WAh8FBSJDb3B5cmlnaHQgMjAwOSBieSBTLiBTZW50aGlsIEt1bWFyZAIXD2QWAgIFDw8WAh8CaGRkZHP9rpoWuLQ5u2qMFlXnUfJyPGzO">
</div>

<div>

	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWCALG9b/9BQLAlMXDBwLBlMXDBwLClMXDBwLDlMXDBwLElMXDBwLP+++tCwK5upDkC/A13joZ0eHNVSvMbpYmCSA7getu">
</div>

						<!-- Article Text Start -->
						<div id="contentdiv">
						



<div class="pre-action-link" id="premain0" width="100%" style="display:block"><img id="preimg0" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/minus.gif" style="cursor: pointer; " height="9" width="9" preid="0"><span id="precollapse0" style="cursor: pointer; margin-bottom: 0px; " preid="0"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#" preid="0">Copy Code</a></div><pre lang="C++" id="pre0" style="margin-top: 0px; ">   <span class="code-digit">1</span>: <span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std;
   <span class="code-digit">2</span>:  
   <span class="code-digit">3</span>: <span class="code-keyword">class</span> C
   <span class="code-digit">4</span>: {
   <span class="code-digit">5</span>: <span class="code-keyword">public</span>:
   <span class="code-digit">6</span>:     C() 
   <span class="code-digit">7</span>:     { 
   <span class="code-digit">8</span>:         cout <span class="code-keyword">&lt;</span><span class="code-keyword">&lt;</span> <span class="code-string">"</span><span class="code-string">Constructed"</span>; 
   <span class="code-digit">9</span>:     }
  <span class="code-digit">10</span>:     ~C() 
  <span class="code-digit">11</span>:     { 
  <span class="code-digit">12</span>:         cout <span class="code-keyword">&lt;</span><span class="code-keyword">&lt;</span> <span class="code-string">"</span><span class="code-string">Destructed"</span>; 
  <span class="code-digit">13</span>:     }
  <span class="code-digit">14</span>: };
  <span class="code-digit">15</span>:  
  <span class="code-digit">16</span>: <span class="code-keyword">void</span> SomeFunc()
  <span class="code-digit">17</span>: {
  <span class="code-digit">18</span>:     C c;
  <span class="code-digit">19</span>:     <span class="code-keyword">throw</span> std::exception(<span class="code-string">"</span><span class="code-string">Gone"</span>);
  <span class="code-digit">20</span>: }</pre>
<p>If you know any C++ at all, you’ll know that when SomeFunc returns, both “Constructed” and “Destructed” will be printed to the console. That is because <a href="http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization" target="_blank">RAII</a> in C++ guarantees that the destructor of an object created on the stack will always run when control leaves the scope, no matter what.</p>

<p>You put all this code is in a static library, say PureCPP.lib, and you compile it with the /EHs option, because you want to use C++ exceptions.</p>

<p>You then write a native application to consume this library, statically link to it, and everything works great.</p>

<p>One day, you wake up and realize you’ll have to try out this .NET stuff that everyone is talking about. You discover that there’s this language called C++/CLI that’s great for interfacing with native code. So you fire up VS, create a CLR console application that calls SomeFunc, and link PureCPP.lib against it.</p>

<p>Just when you’re wondering how easy things turned out to be, you notice something strange. There’s something missing in the console output. When you figure out what’s missing, your jaw hits the ground. Mine did too, when I realized that it was the “Destructed” part that was missing. Which means the impossible just happened - the destructor for class C did not run.</p>

<p>What followed was a long and exciting journey into the world of SEH (Structured Exception Handling), exception codes and exception propagation and handling by the CLR versus C++. All that in the next part – stay tuned.</p>

<div style="CLEAR: both"></div>
<img width="1" height="1" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/aggbug.aspx" complete="true"> 



						</div>
						<!-- Article Text End -->

						
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						

						

						
						<h2 id="ctl00_AboutHeading">About the Author</h2>

						<div class="float-right">
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="300x250" lqm_country="CN" lqm_tags="All-Topics"><iframe id="lqmad2" width="300" height="250" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
						</div>

						
						
   
<table cellpadding="0" cellspacing="5" border="0">
<tbody><tr valign="top">
<td id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhotoTable" valign="top" style="width:155px;">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" href="http://www.codeproject.com/Members/S-Senthil-Kumar">S. Senthil Kumar</a></b><br><br>
	<center><img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/{4B14B108-120F-429E-A1AE-FC58C0D25FD5}.jpg" style="border-width:0px;"></center>

	<div class="small-text">
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer</span><br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany">Atmel R&amp;D India Pvt. Ltd.</span><br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/IN.gif" alt="India" width="16px" height="11px"> India</span><br>
		<br>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberType">Member</span><br>
		

		
	</div>
</td>

<td>
	I'm a 27 yrs old developer working with Atmel R&amp;D India Pvt. Ltd., Chennai. I'm currently working in C# and C++, but I've done some Java programming as well. I was a Microsoft MVP in Visual C# from 2007 to 2009.<br>
&nbsp;<br>
You can read <a href="http://msmvps.com/blogs/Senthil">My Blog</a> here. I've also done some open source software - please visit my <a href="http://senthilthecoder.com/">website</a> to know more.<br>	
</td>
</tr>
</tbody></table><br>
						
						

						<div class="clearfix"></div>

						
						<div id="ctl00_RateArticleRow" class="clearfix voting-bar">
						<div class="float-left" style="padding-top:8px"><a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#_articleTop">Article Top</a></div>
						<div class="float-right align-right">
							<div id="ctl00_RateArticle_RateItemWrapper" class="small-text" name="RateItem_46136">

	<table width="100%" cellpadding="0" cellspacing="0" class="small-text">
	<tbody><tr>
		<td id="ctl00_RateArticle_VoteResultDiv" nowrap="nowrap" align="right">
			<span class="voteRes"></span>
			<img class="loaderImg" width="16px" alt="loading..." height="16px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/ajax-loader.gif" style="display:none;"> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tbody><tr>
				
				<td id="ctl00_RateArticle_RateText" class="rating-prompt">
					Rate this:
				</td>

				<td id="ctl00_RateArticle_StartForm" align="right" nowrap="nowrap">
					<i>&nbsp;&nbsp;Poor</i>
				</td>

				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input id="ctl00_RateArticle_VoteRBL_0" type="radio" name="ctl00$RateArticle$VoteRBL" value="1" onclick="ChkRtctl00_RateArticle(1, 46136);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_1" type="radio" name="ctl00$RateArticle$VoteRBL" value="2" onclick="ChkRtctl00_RateArticle(2, 46136);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_2" type="radio" name="ctl00$RateArticle$VoteRBL" value="3" onclick="ChkRtctl00_RateArticle(3, 46136);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_3" type="radio" name="ctl00$RateArticle$VoteRBL" value="4" onclick="ChkRtctl00_RateArticle(4, 46136);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"><input id="ctl00_RateArticle_VoteRBL_4" type="radio" name="ctl00$RateArticle$VoteRBL" value="5" onclick="ChkRtctl00_RateArticle(5, 46136);
$(&#39;#ctl00_RateArticle_RCD&#39;).show();
;"></span> 

						
					</span>

				</td>

				<td id="ctl00_RateArticle_EndForm" align="left">
					<i>Excellent</i>
				</td>

				<td>	
					<input type="submit" name="ctl00$RateArticle$SubmitRateBtn" value="Vote" onclick="return PostBack_ctl00_RateArticle_RateItemWrapper();" id="ctl00_RateArticle_SubmitRateBtn" class="button">
				</td>
			</tr>
			</tbody></table>
			<span id="ctl00_RateArticle_ErrorMessage" class="error"></span>
		</td>
	</tr>
	</tbody></table>
	<div class="hover-container">
		<div id="ctl00_RateArticle_RCD" class="rating-comment align-left float-right">
			Add a reason or comment to your vote: <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#" id="clear-rate_ctl00_RateArticle_RCD" title="close">x</a><br>
			<textarea class="RateComment" rows="5" cols="60" style="width:98%;"></textarea>
			<span id="ctl00_RateArticle_CommentReq" class="subdue">Votes of 3 or less require a comment</span>
		</div>
	</div>
</div>

						</div>
						</div>
						

					</form>

					
					<div style="margin:auto;padding:0px 10px;white-space:nowrap;overflow:hidden;width:468px;height:60px">		  
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="468x60" lqm_country="CN" lqm_tags="All-Topics"><iframe id="lqmad3" width="468" height="60" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
						
					</div>
					

					
					
					<h2>Comments and Discussions</h2>
					<a name="_comments" id="_comments">&nbsp;</a><table id="ForumTable" class="box forum" cellpadding="0" cellspacing="0">
<tbody><tr>
<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
<tbody><tr class="forum-header1">
<td style="white-space:nowrap;"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/info-16.gif" alt="FAQ" style="border-width:0;width:16px;height:16px;vertical-align:middle;">&nbsp;<a href="http://www.codeproject.com/KB/FAQs/MessageBoardsFAQ.aspx"><b>FAQ</b></a>&nbsp;</td><td colspan="2" style="white-space:nowrap;text-align:right;"><form action="http://www.codeproject.com/Search.aspx?fid=0" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1553529"><input type="text" class="Frm_Input" name="qf">&nbsp;<input type="submit" value="Search" class="button">
</form></td>
</tr><tr class="forum-header2">
<td colspan="3" style="width:100%;"><div style="text-align:right;">
<form action="http://www.codeproject.com/script/Forums/SetOptions.aspx?floc=%2fArticles%2f46136%2fWhen-a-Cplusplus-destructor-did-not-run-Part-1.aspx&fid=1553529" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1553529"><input type="hidden" name="currentQS" value="?floc=%2fArticles%2f46136%2fWhen-a-Cplusplus-destructor-did-not-run-Part-1.aspx&amp;fid=1553529"><input type="hidden" name="floc" value="/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx"><input type="checkbox" name="prof" id="prof" style="vertical-align:middle;"><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Noise level<select size="1" class="Frm_DropDown" name="noise">
<option value="1">Very High</option><option value="2">High</option><option selected="" value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="Frm_DropDown" name="view">
<option value="Quick">Normal</option><option value="Topic">Expand Posts only</option><option selected="" value="Expanded">Expand Posts &amp; Replies</option><option value="Thread">Thread View</option><option value="Normal">No Javascript</option><option value="Preview">No JS + Preview</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="Frm_DropDown" name="mpp">
<option value="10">10</option><option value="25">25</option><option selected="" value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button">
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="forum-navbar">
<td><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/forum_newmsg.gif" alt="new" width="16px" height="16px" border="0" align="top"><a href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1553529&floc=/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx" class="toolbar" name="Frm_HoverNL" title="Create a new message thread" target="_top"><b>New Message</b></a></td><td> <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?fid=1553529">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><span class="subdue">First</span> <span class="subdue">Prev</span> <span class="subdue">Next</span></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background">
<tbody><tr>
<td><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t(1).gif" border="0" width="1px" height="5px" alt=""></td>
</tr><tr class="MsgHd Rt HdUnSel ">
<td width="100%"><table class="expandedHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="16px" class="Frm_MsgIndent"><a name="xx3294363xx"></a><img height="16px" width="16px" align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_general.gif" alt="General"></td><td class="Frm_MsgSubject hover-container">Very Interesting</td><td class="Frm_MsgIcon"><img border="0" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=15383">Rama Krishna Vavilala</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">11:35 5 Dec '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr>
<td width="100%"><table class="expandedBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:16px;"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t(1).gif" height="1px" width="16px" alt=""></td><td class="MsgBd BdUnSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">You wasted my 2 hrs today<img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)"> <br>
&nbsp;<br>
Nish gave a link to this article and I was really surprised to see the bug. I call it a bug because it is a bug. I will wait for your part 2 to give my take on what is happening. But it is very interesting. <br>
&nbsp;<br>
<div class="ForumSig"><a href="http://spreadsheets.google.com/viewform?hl=en&formkey=dEVZQlJCT3A0dDBKbGw2bTl6V2hucVE6MA">Click here to get a Google Wave Invite.</a></div><br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1553529&select=3294363&floc=/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1553529&select=3294363&floc=/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?fid=1553529&tid=3294363" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3294363/Very-Interesting.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3294363&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3294363" style="white-space:nowrap;"><script type="text/javascript">
MsgVFrm(15383,3294363,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" onclick="RateMsg(15383, 3294363,1,0);"><img height="14px" width="14px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" title="vote this message a 1" onclick="RateMsg(15383, 3294363, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" title="vote this message a 2" onclick="RateMsg(15383, 3294363, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" title="vote this message a 3" onclick="RateMsg(15383, 3294363, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" title="vote this message a 4" onclick="RateMsg(15383, 3294363, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" title="vote this message a 5" onclick="RateMsg(15383, 3294363, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294363xx" onclick="RateMsg(15383, 3294363,5,0);"><img height="14px" width="14px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr class="expanded">
<td class="msg-divide"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t(1).gif" border="0" width="1px" height="1px" alt=""></td>
</tr><tr class="MsgHd HdUnSel ">
<td width="100%"><table class="expandedHd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr class="hover-row">
<td width="34px" class="Frm_MsgIndent"><a name="xx3294876xx"></a><img height="16px" width="16px" align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_general.gif" alt="General"></td><td class="Frm_MsgSubject hover-container"><a class="message-link" name="3294876" parent="3294363" thread="3294363" href="http://www.codeproject.com/Messages/3294876/Re-Very-Interesting.aspx">Re: Very Interesting</a></td><td class="Frm_MsgIcon"><img border="0" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/member_sm.gif" title="member" alt="member" height="16px"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=492196">S. Senthil Kumar</a></td><td class="Frm_MsgDate" style="vertical-align:top;white-space:nowrap;">13:07 6 Dec '09 &nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr>
<td width="100%"><table class="expandedBd" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td class="Frm_MsgIndent" style="width:34px;"><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t(1).gif" height="1px" width="34px" alt=""></td><td class="MsgBd BdUnSel "><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><blockquote class="FQ"><div class="FQA">Rama Krishna Vavilala wrote:</div>I call it a bug because it is a bug.</blockquote><br>
&nbsp;<br>
I would call it more a user error than a bug - wrong compiler setting really. It would be good if the compiler infrastructure could detect it though.<br>
&nbsp;<br>
<br>
<blockquote class="FQ"><div class="FQA">Rama Krishna Vavilala wrote:</div>I will wait for your part 2 to give my take on what is happening.</blockquote><br>
&nbsp;<br>
<a href="http://www.codeproject.com/Articles/46294/When-a-Cplusplus-destructor-did-not-run-Part-2.aspx">Part2</a>[<a href="http://www.codeproject.com/Articles/46294/When-a-Cplusplus-destructor-did-not-run-Part-2.aspx" target="_blank" title="New Window">^</a>] is up <img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">  <br>
&nbsp;<br>
<div class="ForumSig">Regards<br>
Senthil<br>
_____________________________<br>
<font face="Verdana" size="1"><a href="http://www.senthilthecoder.com/">My Home Page</a> |<a href="http://msmvps.com/blogs/Senthil">My Blog</a> | <a href="http://www.codeproject.com/script/articles/list_articles.asp?userid=492196">My Articles</a> | <a href="http://www.flickr.com/photos/senthilkumar/">My Flickr</a> | <a href="http://geocities.com/win_macro">WinMacro</a></font></div><br></td>
</tr><tr style="vertical-align:middle;">
<td class="msg-footer"><a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1553529&select=3294876&floc=/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx&action=r" title="Reply">Reply</a>·<a class="toolbar" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1553529&select=3294876&floc=/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx&action=e" title="Email">Email</a>·<a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?fid=1553529&tid=3294363" title="View Thread">View&nbsp;Thread</a>·<a class="toolbar" href="http://www.codeproject.com/Messages/3294876/Re-Very-Interesting.aspx" title="Get permanent link">Permalink</a>·<a class="toolbar" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3294876&obtid=3&action=AddBookmark&bio=false" title="Bookmark this post">Bookmark</a></td><td class="msg-footer" style="text-align:right;"><span id="MVF3294876" style="white-space:nowrap;"><script type="text/javascript">
MsgVFrm(492196,3294876,false,"","","");
</script>Rate this message: <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" onclick="RateMsg(492196, 3294876,1,0);"><img height="14px" width="14px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/thumbs_down.gif" alt="vote 1" border="0" align="middle"></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" title="vote this message a 1" onclick="RateMsg(492196, 3294876, 1,0)"><b>1</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" title="vote this message a 2" onclick="RateMsg(492196, 3294876, 2,0)"><b>2</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" title="vote this message a 3" onclick="RateMsg(492196, 3294876, 3,0)"><b>3</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" title="vote this message a 4" onclick="RateMsg(492196, 3294876, 4,0)"><b>4</b></a> <a class="toolbar" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" title="vote this message a 5" onclick="RateMsg(492196, 3294876, 5,0)"><b>5</b></a> <a href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx#xx3294876xx" onclick="RateMsg(492196, 3294876,5,0);"><img height="14px" width="14px" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/thumbs_up.gif" border="0" alt="vote 5" align="middle"></a> </span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><img src="./When a C++ destructor did not run – Part 1 - CodeProject_files/t(1).gif" border="0" width="1px" height="5px" alt=""></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="forum-footer">
<td>Last Visit: 12:22 18 Nov '11  &nbsp; &nbsp; Last Update: 13:56 18 Nov '11 </td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?fid=1553529&amp;fr=3"><b>1</b></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table><p class="small-text"><img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_general.gif" width="16px" height="16px" alt="General"> General &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_news.gif" width="16px" height="16px" alt="News"> News &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_idea.gif" width="16px" height="16px" alt="Suggestion"> Suggestion &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_question.gif" width="16px" height="16px" alt="Question"> Question &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_bug.gif" width="16px" height="16px" alt="Bug"> Bug &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_answer.gif" width="16px" height="16px" alt="Answer"> Answer &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_joke.gif" width="16px" height="16px" alt="Joke"> Joke &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_rant.gif" width="16px" height="16px" alt="Rant"> Rant &nbsp;&nbsp; <img align="top" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/msg_admin.gif" width="16px" height="16px" alt="Admin"> Admin &nbsp;&nbsp; </p>

					
					<div class="theme1-background" style="height:2px"></div>

					<div class="extended tiny-text">
						<div class="row">
							<div class="float-left">
								<a id="ctl00_PermaLink" href="http://www.codeproject.com/Articles/46136/When-a-C-destructor-did-not-run-Part-1">Permalink</a> | 
								<a id="ctl00_AdvertiseLink" href="http://lakequincy.com/">Advertise </a> |
								<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
								<a id="ctl00_Mobile" rel="nofollow" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?display=Mobile">Mobile</a>
								<br>
								
								Web03 |
								2.5.111110.1 |
								Last Updated 4 Dec 2009								
							</div>
							<div class="float-right align-right">
								Article Copyright 2009 by S. Senthil Kumar<br>Everything else
								Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2011 <br>
								<a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a>
							</div>

							


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="http://www.codeproject.com/Articles/46136/When-a-Cplusplus-destructor-did-not-run-Part-1.aspx?PageFlow=Fluid">fluid</a>
</div>



						</div>
					</div>
					

				<br clear="all">
		
				
				</div>

				<div id="ctl00_ContentSide" class="text-sidebar">
					<script type="text/javascript">document.write(unescape('%0d%0a%0d%0a%3cdiv class%3d%22results%22%3e%0d%0a%0d%0a%09%3cdiv class%3d%22container-adwords%22%3e%0d%0a%09%09%3ca id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Link%22 href%3d%22%2fscript%2fCatalog%2fRedir.aspx%3fctid%3d1389%26amp%3bcttype%3d2%22 target%3d%22_blank%22%3e%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Title%22 class%3d%22title%22%3eMX-Frame%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Teaser%22 class%3d%22desc%22%3eBusiness Application Framework%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl01_Url%22 class%3d%22link%22%3ewww.mxframe.net%3c%2fspan%3e%3c%2fa%3e%0d%0a%09%3c%2fdiv%3e%0d%0a%0d%0a%09%3cdiv class%3d%22container-adwords%22%3e%0d%0a%09%09%3ca id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Link%22 href%3d%22%2fscript%2fCatalog%2fRedir.aspx%3fctid%3d1403%26amp%3bcttype%3d2%22 target%3d%22_blank%22%3e%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Title%22 class%3d%22title%22%3eSearch for ASP.NET%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Teaser%22 class%3d%22desc%22%3eAdd search engine functionality to your ASP.NET web site. Features...%3c%2fspan%3e%3cbr %2f%3e%0d%0a%09%09%09%3cspan id%3d%22ctl00_RelatedAds_RelatedResults_ctl02_Url%22 class%3d%22link%22%3ekeyoti.com%3c%2fspan%3e%3c%2fa%3e%0d%0a%09%3c%2fdiv%3e%0d%0a%0d%0a%3c%2fdiv%3e%0d%0a'));</script>

<div class="results">

	<div class="container-adwords">
		<a id="ctl00_RelatedAds_RelatedResults_ctl01_Link" href="http://www.codeproject.com/script/Catalog/Redir.aspx?ctid=1389&cttype=2" target="_blank"><span id="ctl00_RelatedAds_RelatedResults_ctl01_Title" class="title">MX-Frame</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl01_Teaser" class="desc">Business Application Framework</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl01_Url" class="link">www.mxframe.net</span></a>
	</div>

	<div class="container-adwords">
		<a id="ctl00_RelatedAds_RelatedResults_ctl02_Link" href="http://www.codeproject.com/script/Catalog/Redir.aspx?ctid=1403&cttype=2" target="_blank"><span id="ctl00_RelatedAds_RelatedResults_ctl02_Title" class="title">Search for ASP.NET</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl02_Teaser" class="desc">Add search engine functionality to your ASP.NET web site. Features...</span><br>
			<span id="ctl00_RelatedAds_RelatedResults_ctl02_Url" class="link">keyoti.com</span></a>
	</div>

</div>


					

					

					<div style="width:160px;margin: 10px 0;">
						<div class="lqm_ad" lqm_publisher="lqm.codeproject.site" lqm_zone="77" lqm_format="160x600" lqm_country="CN" lqm_tags="All-Topics"><iframe id="lqmad4" width="160" height="600" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe></div>
					</div>

					
	<div class="announce">
	<div id="ctl00_RelatedArticles_RelatedResults_ctl00_header" class="announce-header">See Also...</div>
	<div class="announce-content">	
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl01_Link" class="title" href="http://www.codeproject.com/KB/showcase/dundas_chartani.aspx">Creating animations with Dundas Chart for ASP.NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl02_Link" class="title" href="http://www.codeproject.com/KB/showcase/dundas_smartlabels.aspx">Smarter Data Labels with Dundas Chart SmartLabels</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl03_Link" class="title" href="http://www.codeproject.com/KB/showcase/Dundas_chartareas.aspx">Understanding Chart Areas with Dundas Chart for .NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl04_Link" class="title" href="http://www.codeproject.com/KB/showcase/DundasMap_AJAX.aspx">Making Sense of Geographic Data with Dundas Map and AJAX</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl05_Link" class="title" href="http://www.codeproject.com/KB/vbscript/gopal_code.aspx">DestroyWindow in VBScript</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl06_Link" class="title" href="http://www.codeproject.com/KB/vb/SmarLink.aspx">SmartLink</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl07_Link" class="title" href="http://www.codeproject.com/KB/showcase/HeraAppFramework.aspx">Create data-driven applications with the Hera Application Framework</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl08_Link" class="title" href="http://www.codeproject.com/KB/showcase/RedGate_SelfDocDatabase.aspx">Towards the self-documenting database: extended properties</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl09_Link" class="title" href="http://www.codeproject.com/KB/showcase/digitalsignatures.aspx">Digital Signatures and PDF Documents</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl10_Link" class="title" href="http://www.codeproject.com/KB/database/Windows_Mobile_Db_Images.aspx">Reading and Writing Images From a Windows Mobile Database using UltraLite 10 (C#)</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl11_Link" class="title" href="http://www.codeproject.com/KB/vb/Windows_Media_Player_COM.aspx">WMP Power Hour APP</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl12_Link" class="title" href="http://www.codeproject.com/KB/aspnet/MergeLandscape.aspx">Merge Landscape and Portrait PDFs using ASP.NET</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl13_Link" class="title" href="http://www.codeproject.com/KB/showcase/barcodes_in_docs.aspx">Using Barcodes in Documents – Best Practices</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl14_Link" class="title" href="http://www.codeproject.com/KB/winsdk/HowToRetrieve.aspx">How to Retrieve EMC Centera Cluster/Pool Capabilities</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl15_Link" class="title" href="http://www.codeproject.com/KB/winsdk/RightKeyboard.aspx">Using multiple keyboards with different layouts on the same machine</a>
		
	</div>
	
	<div class="container-related-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl16_Link" class="title" href="http://www.codeproject.com/KB/showcase/dotimage_toolkit.aspx">"Hey! Is That My Car? How to Sharpen a QuickBird Satellite Image Using DotImage"</a>
		
	</div>
	
	</div>
	</div>
	


					

					
<div class="announce">
<div class="announce-header">The Daily Insider</div>
<div class="announce-content">

<div><a id="ctl00_News_News_ctl01_Link" href="http://citizen428.net/archives/434">30 free programming books</a></div>

Daily News: <a id="ctl00_News_News_ctl02_Subscribe" href="http://www.codeproject.com/Feature/Insider/">Signup now</a>.
</div>
</div>
		

				</div>

			</div>
			

		</div>
		

	</div>
</div>


<div style="display:none;" id="lqm_AdTable">
	
</div>

<script type="text/javascript" language="Javascript" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/jquery.min.js"></script><script type="text/javascript">//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/article.min.js"></script>
<script type="text/javascript" language="Javascript" src="./When a C++ destructor did not run – Part 1 - CodeProject_files/m.min.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
var socialLinks = new social();
socialLinks.PlaceholderId="ATD";socialLinks.ObjectId=46136;
socialLinks.ObjectTypeId=2;
socialLinks.addtoMethod=1;
socialLinks.Horizontal=false;
socialLinks.Showname=true;
socialLinks.setupLinks("socialLinks", escape(document.location.href),escape(document.title), 100, 0, "small-text Bold", "AddTo");
socialLinks.setupMenu();
if($.LqmAds)$.LqmAds();
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 InitWatermark('sb_tb', 'Search');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide();
  sbar.blur(function() { if (!oSrchFlt)sfilter.hide();srchBoxFoc=false; });
  sbar.focus(function() { oSrchFlt=false;srchBoxFoc=true;sfilter.show(); });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox)sfilter.hide();});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
$(document).ready(function() { anchorAnimate(); });
$("#ctl00_RateArticle_RateItemWrapper").removeClass("container-rating");$('#clear-rate_ctl00_RateArticle_RCD').click(function () { $('#ctl00_RateArticle_RCD').hide(); return false;});
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(46136,2,3,true,true,3);
}
function ChkRtctl00_RateArticle(val, objId) {if (val<=3||true) {
$('div[name=RateItem_' + objId + '] .rating-comment').css("display","");}
else $('div[name=RateItem_' + objId + '] .rating-comment').css("display","none");}


//]]>
</script>



<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script>



<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas></body><embed type="application/x-cooliris-page" hidden="true" id="coolirisBridge"></html>