<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0043)http://sislcb.blog.hexun.com/6236664_d.html -->
<HTML><HEAD><TITLE>用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客</TITLE>
<META content="用Python进行网页分析实现批量下载 - sislcb的博客 - 和讯博客" name=description>
<META http-equiv=Content-Type content="text/html; charset=gb2312"><LINK 
title=sislcb href="http://sislcb.blog.hexun.com/rss2.aspx" 
type=application/rss+xml rel=alternate><LINK 
href="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/common.css" 
type=text/css rel=stylesheet><LINK 
href="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/my.css" 
type=text/css rel=stylesheet>
<SCRIPT language=JavaScript type=text/javascript>
<!--
function HEXUN_SetMediaPlayState()
{
	var cookieName = "HEXUN_COM_MEDIA_PLAYSTATE";
	var curCookie = cookieName + "=1;path=/;domain=hexun.com";
	document.cookie = curCookie;
}
HEXUN_SetMediaPlayState();
-->
</SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY id=BlogBody><!--  页面:开始  -->
<DIV id=page><!--  头部:开始  -->
<SCRIPT language=javascript>
                function bookmarkThis(myhref)
                {
		                t=document.title;
		                u=myhref;
		                e=document.selection?(document.selection.type!='None'?document.selection.createRange().text:''):(document.getSelection?document.getSelection():'');
		                void(open('http://bookmark.hexun.com/post.aspx?title='+escape(t)+'&amp;url='+escape(u)+'&amp;excerpt='+escape(e),'HexunBookmark','scrollbars=no,width=600,height=450,left=80,top=80,status=no,resizable=yes'));	
                }
                function copytext(blogname,username) 
                {		
	                var copyText='http://hexun.com/' +  blogname + '/default.html';
	                window.clipboardData.setData('Text',copyText);
	                alert(username + '的个人门户地址已经拷贝到剪贴板！');

                }
                function addbookmark(myhref)
                {
	                t=document.title;
	                u=myhref;
	                e=document.selection?(document.selection.type!='None'?document.selection.createRange().text:''):(document.getSelection?document.getSelection():'');
	                void(open('http://bookmark.hexun.com/post.aspx?title='+escape(t)+'&amp;url='+escape(u)+'&amp;excerpt='+escape(e),'HexunBookmark','scrollbars=no,width=600,height=450,left=80,top=80,status=no,resizable=yes'));	
                		
                }

                </SCRIPT>

<SCRIPT type=text/javascript>

                function cnLength(Str) {
	                var escStr = escape(Str);
	                var numI = 0;
	                var escStrlen = escStr.length;
	                for (i = 0;  i < escStrlen;  i++) 
	                if(escStr.charAt(i) == '%') 
	                if(escStr.charAt(++i) == 'u')  numI ++;
	                return Str.length+numI;
                }
                </SCRIPT>

<DIV id=page>
<DIV id=header>
<DIV id=site_title>
<DIV class=address>http://hexun.com/sislcb &gt; <A 
href="javascript:copytext('sislcb','sislcb')">复制</A> &gt; <A 
href="javascript:addbookmark('http://hexun.com/sislcb')">收藏</A> | <A 
href="http://hexuncom.blog.hexun.com/2029948_d.html" target=_blank>手机看个人门户</A> 
</DIV>
<DIV class=link><SPAN id=SelfTab_Login></SPAN><A href="http://blog.hexun.com/" 
target=_blank>和讯博客</A></SPAN> | <SPAN class=hexun_link><A 
href="http://www.hexun.com/" target=_blank>和讯首页</A></DIV></DIV>
<DIV class=site_description id=site_description>
<DIV class=site_description_A>Delphi,Linux,Python</DIV>
<DIV class=site_description_B>sislcb's Blog</DIV></DIV>
<DIV id=navi_bar>
<DIV class=navi_bar_left>
<DIV class=all_bar id=bar_01><A href="http://hexun.com/sislcb/default.html" 
target=_parent>个人门户</A></DIV>
<DIV class=all_bar id=bar_02><A href="http://sislcb.blog.hexun.com/" 
target=_parent>博客</A></DIV>
<DIV class=all_bar id=bar_06><A href="http://t.hexun.com/sislcb/default.html" 
target=_blank>微博</A></DIV>
<DIV class=all_bar id=bar_03><A href="http://sislcb.photo.hexun.com/" 
target=_parent>相册</A></DIV>
<DIV class=all_bar id=bar_04><A href="http://sislcb.music.hexun.com/" 
target=_parent>音乐</A></DIV>
<DIV class=all_bar id=bar_05><A 
href="http://bookmark.hexun.com/sislcb/default.aspx" target=_parent>转帖</A></DIV>
<DIV class=all_bar id=bar_07><A href="http://mail.hexun.com/" 
target=_blank>邮箱</A></DIV>
<DIV class=all_bar id=bar_08><A href="http://hexun.com/sislcb/circle.html" 
target=_parent>朋友圈</A></DIV>
<DIV class=all_bar id=bar_09><A href="http://hexun.com/sislcb/friends.html" 
target=_parent>好友</A></DIV>
<DIV class=all_bar id=bar_10><A href="http://hexun.com/sislcb/messageboard.html" 
target=_parent>留言</A></DIV><!--<div id='bar_12' class='all_bar'><a href='http://stock.hexun.com/mystock/' target='_blank'>理财</a></div>--></DIV>
<DIV class=navi_bar_right><A href="http://i.hexun.com/myhome.html" 
target=_blank>进入我的家</A></DIV></DIV>
<DIV id=tag_bar>
<DIV class=tag_bar_title id=tag_bar_title style="WIDTH: 56px"></DIV>
<DIV class=tag_bar_left id=tag_bar_left></DIV></DIV>
<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/IsUserSelf.aspx" 
type=text/javascript> </SCRIPT>
</DIV></DIV><!--  头部:结束  --><!--  主体:开始  -->
<DIV id=content>
<DIV id=content_inner>
<DIV class=left_side_2 style="FLOAT: left">
<DIV class=left_side_2_inner id=BlogPageLeft><!--  主人:开始  -->
<DIV class=side_block id=master>
<DIV id=GetBriefPanel1></DIV>
<DIV class=side_content id=master_ptoto>
<DIV id=master_ptoto_1>
<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/personpic.htm"></SCRIPT>
</DIV>
<DIV id=GetBriefPanel2></DIV></DIV></DIV><!--  主人:结束  --><!--  自定义HTML:开始  -->
<DIV class=side_block id=SelfHtml>
<DIV class=side_title>
<DIV class=side_title_1>载入中</DIV>
<DIV class=side_title_2 id=HtmlColumn></DIV>
<DIV class=clear></DIV></DIV>
<DIV class=side_content id=SelfHtmlDivItem>自定义HTML载入中... <IMG alt=loading 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/loading.gif" 
border=0> </DIV></DIV><!--  自定义HTML:结束  --><!--  快速链接:开始  -->
<DIV class=side_block id=QuickLink>
<DIV class=side_title>
<DIV class=side_title_1>快速链接</DIV>
<DIV class=side_title_2></DIV>
<DIV class=clear></DIV></DIV>
<DIV class=side_content id=QuickLink_list>
<DIV><A href="http://blog.hexun.com/" target=_blank>[和讯博客]</A></DIV>
<DIV><A 
href="http://post.blog.hexun.com/sislcb/postarticle.aspx">[发表文章]</A></DIV>
<DIV><A href="http://i.hexun.com/manage/admin_bloggeneral.aspx" 
target=_blank>[博客设置]</A></DIV>
<DIV><A href="http://post.blog.hexun.com/i/myarticles.aspx?blogname=sislcb" 
target=_blank>[文章管理]</A></DIV>
<DIV><INPUT id=q size=15 name=q> <A 
onclick="javascript:window.open('http://sislcb.blog.hexun.com/search.aspx?q='+escape(document.getElementById('q').value), 'newwindow')" 
href="javascript:">搜索</A></DIV>
<DIV class=QuickLink_rss><A href="http://sislcb.blog.hexun.com/rss2.aspx" 
target=_blank><IMG style="PADDING-BOTTOM: 4px" height=15 alt="RSS 2.0" 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/rss2.png" 
width=80 border=0></A><BR><A 
href="http://rss.hexun.com/sub.aspx?fromurl=http://sislcb.blog.hexun.com/rss2.aspx" 
target=_blank><IMG style="PADDING-BOTTOM: 4px" height=15 alt=使用和讯博揽订阅 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/hexun.png" 
width=80 border=0></A><BR><A 
href="http://i.hexun.com/yinba/index.aspx?blog=http%3a%2f%2fsislcb.blog.hexun.com" 
target=_blank><IMG style="PADDING-BOTTOM: 4px" height=15 alt=博客印书 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/yinshu.gif" 
width=80 border=0></A> </DIV></DIV></DIV><!--  快速链接:结束  --><!--  分类:开始  -->
<DIV id=GetCate></DIV><!--  分类:结束  --><!--  友情链接:开始  -->
<DIV id=GetLink></DIV><!--  友情链接:结束  --></DIV></DIV>
<DIV class=right_side_2 style="FLOAT: left">
<SCRIPT>
	function isArticleDel(url)
	{
		var x = window.confirm('是否删除？');
		if (x)
		{
		    document.getElementById("ifr_delarticle").contentWindow.location=url;
			return true;
		}
		else
		{
			return false;
		}
	}
	
	function isVote()
	{
		var x = window.confirm('是否投票？');
		if (x)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
		
	function bookmarkThis()
	{
		t=document.title;
		u=location.href;
		tag="Python Code";
		e=document.selection?(document.selection.type!='None'?document.selection.createRange().text:''):(document.getSelection?document.getSelection():'');
		void(open('http://bookmark.hexun.com/post.aspx?title='+escape(t)+'&url='+escape(u)+'&tag='+escape(tag)+'&excerpt='+escape(e),'HexunBookmark','fullscreen=yes,scrollbars=yes,status=yes,resizable=yes,toolbar=yes,menubar=yes,location=yes'));	
	}

	var wordpt = 14;
	
	function changeStyle(type)
	{
	    if(type == 0)
	    {
	        if(wordpt > 8)
	        {
	            wordpt = wordpt - 2;
	        }
	    }
	    else
	    {
	        if(wordpt < 36)
	        {
	            wordpt = wordpt + 2;
	        }
	    }
	    var temp = eval(wordpt);
	    temp = temp + "px";
	    document.getElementById('BlogArticleDetail').style.fontSize = temp ;
	}
	
	function changeFont(type)
	{
	    var detail = document.getElementById("BlogArticleDetail");
	    var btnBig = document.getElementById("btnBigFont");
	    var btnNormal = document.getElementById("btnNormalFont");
	    var btnSmall = document.getElementById("btnSmallFont");
        if (type == 1)
        {
            detail.style.fontSize = "24px";
            btnBig.style.fontWeight = "bold";
            btnNormal.style.fontWeight = "normal";
            btnSmall.style.fontWeight = "normal";
            btnBig.style.cursor = "default";
            btnNormal.style.cursor = "pointer";
            btnSmall.style.cursor = "pointer";
        }
        else if (type == 3)
        {
            detail.style.fontSize = "12px";
            btnBig.style.fontWeight = "normal";
            btnNormal.style.fontWeight = "normal";
            btnSmall.style.fontWeight = "bold";
            btnBig.style.cursor = "pointer";
            btnNormal.style.cursor = "pointer";
            btnSmall.style.cursor = "default";
        }
        else
        {
            detail.style.fontSize = "14px";
            btnBig.style.fontWeight = "normal";
            btnNormal.style.fontWeight = "bold";
            btnSmall.style.fontWeight = "normal";
            btnBig.style.cursor = "pointer";
            btnNormal.style.cursor = "default";
            btnSmall.style.cursor = "pointer";
        }
	}
</SCRIPT>

<DIV class=right_side_2_inner id=BlogPageRight><!--  文章内容:开始  --><IFRAME 
id=ifr_delarticle style="DISPLAY: none" 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/default.aspx" 
frameBorder=0 width=0 scrolling=no height=0></IFRAME>
<DIV class=Article id=ArticeTextID>
<DIV class=ArticleTitle><SPAN class=ArticleTitleText>用Python进行网页分析实现批量下载</SPAN> 
[转贴 2006-10-29 13:23:46] <A title=编辑... 
href="http://post.blog.hexun.com/sislcb/postarticle.aspx?articleid=6236664"><IMG 
id=idIconEdit 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/icon_edit.gif" 
align=absMiddle border=0></A>&nbsp;<IMG id=idIconDel title=删除... 
style="CURSOR: pointer" 
onclick="isArticleDel('http://sislcb.blog.hexun.com/deletearticle.aspx?articleid=6236664')" 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/icon_del.gif" 
align=absMiddle border=0>&nbsp; </DIV>
<DIV class=ArticleBlog>
<DIV class=ArticleBlogText>
<DIV id=ArticleBlogButtons style="MARGIN-BOTTOM: 4px" align=right><A 
id=link_VoteArticle_Top title=给这篇文章投一票 
href="http://cache-sidebar.blog.hexun.com/voteArticle.aspx?articleID=6236664&amp;blogname=sislcb&amp;blogid=660155"><IMG 
style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; VERTICAL-ALIGN: middle; CURSOR: pointer; BORDER-RIGHT-WIDTH: 0px" 
alt=我顶 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/btn-newding.gif"></A> 
<SPAN id=ChangeBlogArticleFont 
style="FONT-SIZE: 12px; VERTICAL-ALIGN: middle">字号：<SPAN id=btnBigFont 
style="FONT-WEIGHT: normal; CURSOR: pointer" 
onclick=javascript:changeFont(1);>大</SPAN> <SPAN id=btnNormalFont 
style="FONT-WEIGHT: bold; CURSOR: default" 
onclick=javascript:changeFont(2);>中</SPAN> <SPAN id=btnSmallFont 
style="FONT-WEIGHT: normal; CURSOR: pointer" 
onclick=javascript:changeFont(3);>小</SPAN></SPAN> </DIV>
<DIV id=BlogArticleDetail style="FONT-SIZE: 14px">
<P>ChenPeng&nbsp; 2006-3-6&nbsp; BeiJing</P>
<P>源代码： 本工程只包括两个文件start.bat 和CustomParser.py：</P>
<P>start.bat </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //make the dir for files and run the 
project </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir 
files<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; python 
CustomParser.py</P>
<P>CustomParser.py</P>
<P>from sgmllib import SGMLParser<BR>from string import find, replace, 
rjust<BR>from threading import Thread<BR>import urllib</P>
<P>__author__ = "Chen Peng (<A 
href="mailto:peng.ch@hotmail.com">peng.ch@hotmail.com</A>)"<BR>__version__ = 
"$Revision: 1.0 $"<BR>__date__ = "$Date: 2006/03/03 $"<BR>__copyright__ = 
"Copyright (c) 2006 Chen Peng"<BR>__license__ = "Python"</P>
<P>__all__ = ["Gif_163_Parser"]</P>
<P>class PDownloadThread( Thread ):<BR>&nbsp;&nbsp;&nbsp; 
"""<BR>&nbsp;&nbsp;&nbsp; Download the files in the dict and save them to local 
files with the given name<BR>&nbsp;&nbsp;&nbsp; """<BR>&nbsp;&nbsp;&nbsp; def 
__init__( self, DictList,i ):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Thread.__init__( self )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.DictList=DictList<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.pageno=str(i);<BR>&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; def run( self 
):&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for k 
in 
self.DictList.keys():<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
try:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
print 
'Download'+self.DictList[k]+'......'<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
uFile=urllib.urlretrieve( self.DictList[k], 
'.\\files\\'+k+'.'+self.DictList[k].split('.')[self.DictList[k].split('.').__len__()-1])<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
except 
:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
logfile = open('error.log', 'a') 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
logfile.write(self.pageno+' '+self.DictList[k]+'&nbsp;&nbsp; '+k+'\n') 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
logfile.close()&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print 
'Save to file '+k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </P>
<P>class Gif_163_Parser( SGMLParser ):<BR>&nbsp;&nbsp; """<BR>&nbsp;&nbsp;&nbsp; 
任务:下载163彩图<BR>&nbsp;&nbsp;&nbsp; 
原理:http://mms.163.com/new_web/cm_lv2_pic.jsp?catID=&amp;ord=dDate&amp;page=2&amp;type=1&amp;key=<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
从1到415页（共6637）分析得到如下路径：“/fgwx/hhsj/1_060302175613_186/128x128.gif”<BR>&nbsp;&nbsp; 
eg:&lt;script&gt;showPic('22930','1','/fgwx/hhsj/1_060302175613_186/128x128.gif','1','编号：22930\n名字: 
因为有你\n人气:100');&lt;/script&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp; 
下载路径:http://mmsimg.163.com/new_web/loaditem.jsp/type=1/path=/fgwx/llfj/1_060302175612_995/176x176.gif<BR>&nbsp;&nbsp; 
"""<BR>&nbsp;&nbsp; def reset( self 
):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SGMLParser.reset( self 
)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.headURL='http://mmsimg.163.com/new_web/loaditem.jsp/type=1/path='<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.SubURL = []<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.Links = 
{}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp; 
def start_script( self, attrs ): <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
#self.SubURL.extend( [' %s="%s"' % ( key, value ) for key, value in attrs] ) 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pass</P>
<P>&nbsp;&nbsp; def end_script( self 
):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pass<BR>&nbsp;&nbsp; 
<BR>&nbsp;&nbsp; def handle_data( self, text 
):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if find( text, 'showPic' 
)!=-1:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.Links[replace( text.split( '\\n' )[1], '\xc3\xfb\xd7\xd6: ', '' 
)]=self.headURL+replace ( text.split( ',' )[2], '\'', '' 
);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp; def Execute( self ):&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for i in range( 1, 415 
):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.Links.clear;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
try:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
usock = urllib.urlopen( "<A 
href='http://mms.163.com/new_web/cm_lv2_pic.jsp?catID=&amp;ord=dDate&amp;page="+str(i)+"&amp;type=1&amp;key'>http://mms.163.com/new_web/cm_lv2_pic.jsp?catID=&amp;ord=dDate&amp;page="+str(i)+"&amp;type=1&amp;key</A>=" 
)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.feed( usock.read() ) 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
usock.close()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
TestThread=PDownloadThread( self.Links 
,i)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
TestThread.start()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
self.close()&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; except 
IOError:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
pass&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #print ( 
["%s=%sn"% ( k, self.Links[k] ) for k in self.Links.keys()] 
)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #print self.Links</P>
<P>if __name__ == '__main__':<BR>&nbsp;&nbsp;&nbsp; 
#Gif_163_Parser().Execute();<BR>&nbsp;&nbsp;&nbsp;&nbsp; 
testtask=Gif_163_Parser()<BR>&nbsp;&nbsp;&nbsp;&nbsp; 
testtask.Execute()&nbsp;&nbsp;&nbsp;&nbsp; <BR></P></DIV></DIV>
<DIV class=ArticleTag>标签: <A 
href="http://blog.hexun.com/group/commontag.aspx?searchTag=Python+Code" 
target=_blank>Python Code</A>&nbsp;<A href="http://t.hexun.com/k/Python+Code" 
target=_blank><IMG alt="查看和 Python Code 相关的微博" 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/weibo.gif" 
border=0></A>&nbsp;&nbsp;. </DIV>
<DIV class=ArticleDing>
<DIV class=ArticleDing_4><A href="javascript:bookmarkThis()">[收藏到我的转帖]</A> <A 
href="http://sislcb.blog.hexun.com/showtrackback.aspx?articleid=6236664" 
target=_blank>[引用通告]</A> </DIV>
<DIV class=ArticleDing_5><A 
href="http://post.blog.hexun.com/sislcb/RecommendArticle.aspx?articleid=6236664&amp;blogid=660155" 
target=_blank>[推荐]</A> <A 
href="http://sislcb.blog.hexun.com/6236664_d.html#comment">[评论]</A> <A 
href="http://hexun.com/report.aspx?userid=3302962&amp;type=3&amp;Url=http%3a%2f%2fsislcb.blog.hexun.com%2f6236664_d.html" 
target=_blank>[举报]</A> <A href="javascript:window.print();">[打印]</A> </DIV>
<DIV class=ArticleDing_6><SPAN id=articleRecommendCount></SPAN></DIV>
<DIV class=ArticleDing_7>点击数: <SPAN id=articleClickCount></SPAN>&nbsp;&nbsp;评论数: 
<A 
href="http://comment.blog.hexun.com/i/comments.aspx?blogname=sislcb&amp;articleid=6236664" 
target=_blank><SPAN id=articleCommentCount></SPAN></A></DIV></DIV>
<DIV id=dinglist>
<DL>
  <DT><SPAN id=articleVoteCount></SPAN><A id=link_VoteArticle_Bottom 
  href="http://cache-sidebar.blog.hexun.com/voteArticle.aspx?articleID=6236664&amp;blogname=sislcb&amp;blogid=660155">我 
  顶</A> </DT>
  <DD>
  <UL><SPAN id=articleVoteUsers></SPAN></UL></DD>
  <DD class=attention><SPAN>！</SPAN>觉得精彩就顶一下，顶的多了，文章将出现在更重要的位置上。 </DD></DL></DIV>
<DIV class=clear></DIV></DIV></DIV><!--  文章内容:结束  --><!--  上一篇下一篇:开始  -->
<DIV class=NextBlog>
<DIV>下一篇: <A 
href="http://sislcb.blog.hexun.com/6236688_d.html">在python程序中如何可以探测自己的IP地址</A></DIV>
<DIV>上一篇: <A 
href="http://sislcb.blog.hexun.com/6211899_d.html">JavaScript就这么回事</A></DIV></DIV><!--  上一篇下一篇:结束  --><!--  博客链:开始  --><SPAN 
id=articleLinkDisplay></SPAN><!--  博客链:结束  --><!--  最新读者:开始  --><SPAN 
id=BlogTrackDiv></SPAN><!--  最新读者:结束  --><!--  回复:开始  --><SPAN 
id=CommentAuditDiv></SPAN><SPAN id=articleCommentDisplay></SPAN><!--  回复:结束  --><!--  发表评论:开始  -->
<DIV id=ViewArticleContainer1_ArticleWithComments_SubmitCommentPanel><A 
name=#comment></A>
<SCRIPT language=javascript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/PostComment.js"></SCRIPT>

<SCRIPT language=JavaScript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/globaltest.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/api.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=JavaScript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/xmlhttprequest.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/homeway.js"></SCRIPT>

<SCRIPT language=javascript type=text/javascript>
function GotoHead()
{
    location.href = "http://reg.hexun.com/login.aspx?gourl=" + escape(location.href);
}
</SCRIPT>

<DIV class=PublishComment>
<DIV class=PublishTitle>发表评论</DIV>
<DIV class=PublishForm>
<FORM name=postComment onsubmit="return CheckNoHtmlCommentContent();" 
action=http://comment.blog.hexun.com/sislcb/postComment.aspx?ArticleID=6236664 
method=post>
<DIV><SPAN id=commenttag style="font-color: ff0000"></SPAN></DIV>
<DIV>大 名:<SPAN id=LoginLink style="DISPLAY: none">&nbsp;&nbsp;[<A 
href="http://reg.hexun.com/login.aspx?gourl=http://sislcb.blog.hexun.com/6236664_d.html">登录</A>]&nbsp;&nbsp;[<A 
href="http://reg.hexun.com/Register.aspx?fromhost=HX_BLOG&amp;backurl=http://post.blog.hexun.com/registerblog.aspx" 
target=_blank>注册成为和讯用户</A>]</SPAN></DIV>
<DIV><INPUT id=UserNameTextbox onfocus=showCode(6236664); 
name=UserNameTextbox>(不填写则显示为匿名者)</DIV>
<DIV>网 址:</DIV>
<DIV><INPUT id=UserUrlTextbox onfocus=showCode(6236664); 
name=UserUrlTextbox>(您的网址，可以不填)</DIV>
<DIV>标 题:</DIV>
<DIV><INPUT id=CommentTitle onfocus=showCode(6236664); 
value="Re: 用Python进行网页分析实现批量下载" name=CommentTitle><INPUT id=CommentIDTxt 
type=hidden value=0 name=CommentIDTxt><INPUT id=ReplyType type=hidden 
name=ReplyType></DIV>
<DIV>内 容:</DIV>
<DIV id=div_content><TEXTAREA id=NoHtmlCommentContent onfocus="if(this.value=='字数上限为2000字'){this.value='';}this.select();showCode(6236664);" name=NoHtmlCommentContent rows=8 cols=80>字数上限为2000字</TEXTAREA></DIV>
<DIV id=EmotionsDiv 
style="FONT-SIZE: 12px; WIDTH: 500px; FONT-FAMILY: verdana"></DIV>
<DIV id=VerificationDiv>
<DIV>请根据下图中的字符输入验证码：</DIV>
<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/vcode.js" 
type=text/javascript></SCRIPT>

<DIV id=vcodeShow style="DISPLAY: none">0</DIV>
<DIV><IMG id=VerificationPic alt=验证码 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/vcodepic.gif" 
align=absMiddle border=0><A href="javascript:refreshCodeV2(6236664);"> <SPAN 
id=vcodeHint>点这里显示验证码。</SPAN></A></DIV>
<DIV><INPUT id=VerificationInput 
style="FONT-SIZE: 14px; IME-MODE: disabled; WIDTH: 60px; FONT-FAMILY: Verdana; HEIGHT: 26px" 
onfocus=showCode(6236664); name=VerificationInput></DIV></DIV>
<DIV class=PublishSubmit><INPUT id=PostCommentButton onclick="return CheckTitle(this.form);" type=submit value="  提 交  " name=PostCommentButton></DIV>
<DIV>(您的评论将有可能审核后才能发表)</DIV></FORM></DIV></DIV></DIV><!--  发表评论:结束  --></DIV></DIV></DIV></DIV><!--  主体:结束  --><!--  底部:开始  --><!--  底部:结束  -->
<DIV id=bottom><A href="http://blog.hexun.com/" target=_blank>和讯个人门户</A> v1.0 | 
<A href="http://i.hexun.com/default.html" target=_blank>和讯家园</A> | <A 
href="http://media.news.hexun.com/feedback/support.htm?id=blog" 
target=_blank>意见反馈</A></DIV></DIV><!--  页面:结束  -->
<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/commentdisplay.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/articlelinkdisplay.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/articlenewaddisplay.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/articlestatusnew.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/click.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/getarticleside.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/blogtrack.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/emotions.htm" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/commentaudittip.aspx" 
type=text/javascript></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/popbox.htm" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/menu.htm"></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/track.js"></SCRIPT>

<SCRIPT language=javascript 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/bevent.aspx"></SCRIPT>

<SCRIPT 
src="用Python进行网页分析实现批量下载 - Delphi,Linux,Python - sislcb - 和讯博客.files/urchin.js" 
type=text/javascript>
</SCRIPT>

<SCRIPT type=text/javascript>
_uacct = "UA-2706087-1";
urchinTracker();
</SCRIPT>

<DIV id=SelfHtmlPrepare style="DISPLAY: none"></DIV>
<SCRIPT type=text/javascript>
var dom1;
dom1 = document.getElementById("SelfHtmlPrepare").innerHTML;
document.getElementById("SelfHtml").innerHTML = dom1;
document.getElementById("SelfHtmlPrepare").innerHTML="";


document.getElementById("SelfHtml").style.display="none";

</SCRIPT>
</SPAN></BODY></HTML>
